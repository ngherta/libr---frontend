{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/_components/alert.component.ts","webpack:///src/app/_components/alert.component.html","webpack:///src/app/_components/index.ts","webpack:///src/app/_helpers/auth.guard.ts","webpack:///src/app/_helpers/error.interceptor.ts","webpack:///src/app/_helpers/index.ts","webpack:///src/app/_helpers/jwt.interceptor.ts","webpack:///src/app/_models/alert.ts","webpack:///src/app/_models/index.ts","webpack:///src/app/_models/user.ts","webpack:///src/app/_services/account.service.ts","webpack:///src/app/_services/alert.service.ts","webpack:///src/app/_services/book.service.ts","webpack:///src/app/_services/index.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/dashboard/dashboard.component.ts","webpack:///src/app/dashboard/dashboard.component.html","webpack:///src/app/home/home.component.ts","webpack:///src/app/home/home.component.html","webpack:///src/app/home/index.ts","webpack:///src/app/inside-book/inside-book.component.ts","webpack:///src/app/inside-book/inside-book.component.html","webpack:///src/app/profile/edit-profile.component.ts","webpack:///src/app/profile/edit-profile.component.html","webpack:///src/app/profile/profile.component.ts","webpack:///src/app/profile/profile.component.html","webpack:///src/app/users/change-password.component.ts","webpack:///src/app/users/change-password.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","AlertComponent","router","alertService","fade","alerts","alertSubscription","onAlert","subscribe","alert","message","filter","x","keepAfterRouteChange","forEach","push","autoClose","setTimeout","removeAlert","routeSubscription","events","event","clear","unsubscribe","includes","find","classes","alertTypeClass","Success","Info","Warning","type","join","selector","templateUrl","AuthGuard","accountService","route","state","user","userValue","navigate","queryParams","returnUrl","url","providedIn","ErrorInterceptor","request","next","handle","pipe","err","status","logout","error","statusText","JwtInterceptor","isLoggedIn","token","isApiUrl","startsWith","apiUrl","clone","setHeaders","Authorization","Alert","init","Object","assign","AlertType","User","AccountService","http","userSubject","JSON","parse","localStorage","getItem","asObservable","email","password","post","setItem","stringify","role","removeItem","get","params","put","newPassword","value","AlertService","subject","defaultId","bol","options","BookService","userId","categorySubject","categories","bookSubject","book","keyword","isManuallyAdded","bookId","vote","reaction","commentId","comment","accountModule","AccountModule","usersModule","UsersModule","booksModule","BooksModule","routes","path","component","canActivate","loadChildren","children","redirectTo","AppRoutingModule","forRoot","imports","AppComponent","AppModule","declarations","bootstrap","DashboardComponent","activatedRoute","userService","bookService","categoriesName","categoriesCount","submittedPerWeekName","submittedPerWeekCount","actuatorMetrics","ChartOptionsTopCategories","series","name","data","chart","height","click","w","colors","plotOptions","bar","columnWidth","distributed","dataLabels","enabled","legend","show","grid","xaxis","labels","style","fontSize","ChartOptionsSubmittedPerWeek","ChartOptionsSubmittedBook","chartOptions","width","responsive","breakpoint","position","fetchAllDashboard","getActuatorInfo","getActuatorHealth","getActuatorMetrics","MemoryUsed","NumberOfProcessors","HttpRequest","HttpRequestMax","HttpRequestTotal","UsedMemory","UpTime","actuatorHealth","actuatorInfo","getAllDashboard","dashboard","i","booksPerCategory","length","category","count","countOfSubmittedBooks","allSubmittedAndInLibraryBooks","SUBMITTED","countOfInlibraryBooks","IN_LIBRARY","entries","submittedPerWeek","toString","Number","parseInt","styleUrls","HomeComponent","books","booksData","orderStatus","orderCategory","booksCount","loading","submitted","condition","userRole","getRole","fetchBooks","fetchAllCategories","getAllCategories","categoriesData","countOfAllCategories","findInGoogleApi","dataResponse","b","volumeInfo","apiId","clearArray","save","success","errorMessage","bookStatus","updateStatus","getAllFiltered","booksD","addBookReaction","document","getElementById","showData","filterStatusValue","filterCategoryValue","InsideBookComponent","formBuilder","dtTrigger","formComments","group","required","snapshot","fetchBook","getById","invalid","f","getStatusInfo","bookActionResponse","addCommentReaction","controls","EditProfileComponent","isAddMode","form","firstName","lastName","age","phone","setValue","updateUser","editUserFromProfile","relativeTo","onSubmit","ProfileComponent","dtOptionsAdmin","dtOptionsUser","dtTriggerAdmin","dtTriggerUser","pagingType","pageLength","fetchBookActionByStatusSubmitted","fetchBookActionByStatusRequested","getBookActionByStatus","bookAction","bookActionRequested","ChangePasswordComponent","confirmPassword","validator","newMatchesConfirm","updatePassword","updatePass","passwordInput","passwordConfirmationInput","setErrors","notEquivalent","environment","production","bootstrapModule","console"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,aAASA,wBAAT,CAAkCC,GAAlC,EAAuC;AACtC;AACA;AACA,aAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAW;AACxC,YAAIC,CAAC,GAAG,IAAIC,KAAJ,CAAU,yBAAyBL,GAAzB,GAA+B,GAAzC,CAAR;AACAI,SAAC,CAACE,IAAF,GAAS,kBAAT;AACA,cAAMF,CAAN;AACA,OAJM,CAAP;AAKA;;AACDL,4BAAwB,CAACQ,IAAzB,GAAgC,YAAW;AAAE,aAAO,EAAP;AAAY,KAAzD;;AACAR,4BAAwB,CAACG,OAAzB,GAAmCH,wBAAnC;AACAS,UAAM,CAACC,OAAP,GAAiBV,wBAAjB;AACAA,4BAAwB,CAACW,EAAzB,GAA8B,yCAA9B;;;;;;;;;;;;;;;;ACZA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACCA;;AACI;;AAAiB;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAA6B;;AAAO;;AACrD;;AACJ;;;;;;;;AAHkC;;AAExB;;AAAA;;;;QDQGC,c;AAQT,8BAAoBC,MAApB,EAA4CC,YAA5C,EAAwE;AAAA;;AAApD,aAAAD,MAAA,GAAAA,MAAA;AAAwB,aAAAC,YAAA,GAAAA,YAAA;AAPnC,aAAAH,EAAA,GAAK,eAAL;AACA,aAAAI,IAAA,GAAO,IAAP;AAET,aAAAC,MAAA,GAAkB,EAAlB;AAI2E;;;;mCAEhE;AAAA;;AACP;AACA,eAAKC,iBAAL,GAAyB,KAAKH,YAAL,CAAkBI,OAAlB,CAA0B,KAAKP,EAA/B,EACpBQ,SADoB,CACV,UAAAC,KAAK,EAAI;AAChB;AACA,gBAAI,CAACA,KAAK,CAACC,OAAX,EAAoB;AAChB;AACA,mBAAI,CAACL,MAAL,GAAc,KAAI,CAACA,MAAL,CAAYM,MAAZ,CAAmB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACC,oBAAN;AAAA,eAApB,CAAd,CAFgB,CAIhB;;AACA,mBAAI,CAACR,MAAL,CAAYS,OAAZ,CAAoB,UAAAF,CAAC;AAAA,uBAAI,OAAOA,CAAC,CAACC,oBAAb;AAAA,eAArB;;AACA;AACH,aATe,CAWhB;;;AACA,iBAAI,CAACR,MAAL,CAAYU,IAAZ,CAAiBN,KAAjB,EAZgB,CAchB;;;AACA,gBAAIA,KAAK,CAACO,SAAV,EAAqB;AACjBC,wBAAU,CAAC;AAAA,uBAAM,KAAI,CAACC,WAAL,CAAiBT,KAAjB,CAAN;AAAA,eAAD,EAAgC,IAAhC,CAAV;AACH;AACL,WAnBqB,CAAzB,CAFO,CAuBP;;AACA,eAAKU,iBAAL,GAAyB,KAAKjB,MAAL,CAAYkB,MAAZ,CAAmBZ,SAAnB,CAA6B,UAAAa,KAAK,EAAI;AAC3D,gBAAIA,KAAK,YAAY,+DAArB,EAAsC;AAClC,mBAAI,CAAClB,YAAL,CAAkBmB,KAAlB,CAAwB,KAAI,CAACtB,EAA7B;AACH;AACJ,WAJwB,CAAzB;AAKH;;;sCAEa;AACV;AACA,eAAKM,iBAAL,CAAuBiB,WAAvB;AACA,eAAKJ,iBAAL,CAAuBI,WAAvB;AACH;;;oCAEWd,K,EAAc;AAAA;;AACtB;AACA,cAAI,CAAC,KAAKJ,MAAL,CAAYmB,QAAZ,CAAqBf,KAArB,CAAL,EAAkC;;AAElC,cAAI,KAAKL,IAAT,EAAe;AACX;AACA,iBAAKC,MAAL,CAAYoB,IAAZ,CAAiB,UAAAb,CAAC;AAAA,qBAAIA,CAAC,KAAKH,KAAV;AAAA,aAAlB,EAAmCL,IAAnC,GAA0C,IAA1C,CAFW,CAIX;;AACAa,sBAAU,CAAC,YAAM;AACb,oBAAI,CAACZ,MAAL,GAAc,MAAI,CAACA,MAAL,CAAYM,MAAZ,CAAmB,UAAAC,CAAC;AAAA,uBAAIA,CAAC,KAAKH,KAAV;AAAA,eAApB,CAAd;AACH,aAFS,EAEP,KAFO,CAAV;AAGH,WARD,MAQO;AACH;AACA,iBAAKJ,MAAL,GAAc,KAAKA,MAAL,CAAYM,MAAZ,CAAmB,UAAAC,CAAC;AAAA,qBAAIA,CAAC,KAAKH,KAAV;AAAA,aAApB,CAAd;AACH;AACJ;;;iCAEQA,K,EAAc;AAAA;;AACnB,cAAI,CAACA,KAAL,EAAY;AAEZ,cAAMiB,OAAO,GAAG,CAAC,OAAD,EAAU,mBAAV,EAA+B,MAA/B,EAAuC,WAAvC,CAAhB;AAEA,cAAMC,cAAc,2DACf,sDAAUC,OADK,EACK,qBADL,oCAEf,sDAAUjC,KAFK,EAEG,oBAFH,oCAGf,sDAAUkC,IAHK,EAGE,kBAHF,oCAIf,sDAAUC,OAJK,EAIK,qBAJL,mBAApB;AAOAJ,iBAAO,CAACX,IAAR,CAAaY,cAAc,CAAClB,KAAK,CAACsB,IAAP,CAA3B;;AAEA,cAAItB,KAAK,CAACL,IAAV,EAAgB;AACZsB,mBAAO,CAACX,IAAR,CAAa,MAAb;AACH;;AAED,iBAAOW,OAAO,CAACM,IAAR,CAAa,GAAb,CAAP;AACH;;;;;;;uBApFQ/B,c,EAAc,uH,EAAA,2H;AAAA,K;;;YAAdA,c;AAAc,4B;AAAA;AAAA;AAAA;AAAA,O;AAAA,c;AAAA,a;AAAA,6K;AAAA;AAAA;ACX3B;;AACA;;AAIA;;;;AAJK;;AAAA;;;;;;;;;sEDUQA,c,EAAc;cAJ1B,uDAI0B;eAJhB;AACPgC,kBAAQ,EAAE,OADH;AAEPC,qBAAW,EAAE;AAFN,S;AAIgB,Q;;;;;;;;gBACtB;;;gBACA;;;;;;;;;;;;;;;;;;;;AEbL;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAMaC,S;AACT,yBACYjC,MADZ,EAEYkC,cAFZ,EAE0C;AAAA;;AAD9B,aAAAlC,MAAA,GAAAA,MAAA;AACA,aAAAkC,cAAA,GAAAA,cAAA;AACR;;;;oCAEQC,K,EAA+BC,K,EAA4B;AACnE,cAAMC,IAAI,GAAG,KAAKH,cAAL,CAAoBI,SAAjC;;AACA,cAAID,IAAJ,EAAU;AACN;AACA,mBAAO,IAAP;AACH,WALkE,CAOnE;;;AACA,eAAKrC,MAAL,CAAYuC,QAAZ,CAAqB,CAAC,gBAAD,CAArB,EAAyC;AAAEC,uBAAW,EAAE;AAAEC,uBAAS,EAAEL,KAAK,CAACM;AAAnB;AAAf,WAAzC;AACA,iBAAO,KAAP;AACH;;;;;;;uBAhBQT,S,EAAS,8G,EAAA,oH;AAAA,K;;;aAATA,S;AAAS,eAATA,SAAS,K;AAAA,kBADI;;;;;sEACbA,S,EAAS;cADrB,wDACqB;eADV;AAAEU,oBAAU,EAAE;AAAd,S;AACU,Q;;;;;;;;;;;;;;;;;;;;;;;;ACNtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAQaC,gB;AACT,gCAAoBV,cAApB,EAAoD;AAAA;;AAAhC,aAAAA,cAAA,GAAAA,cAAA;AAAkC;;;;kCAE5CW,O,EAA2BC,I,EAAiB;AAAA;;AAClD,iBAAOA,IAAI,CAACC,MAAL,CAAYF,OAAZ,EAAqBG,IAArB,CAA0B,kEAAW,UAAAC,GAAG,EAAI;AAC/C,gBAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACpB;AACA,oBAAI,CAAChB,cAAL,CAAoBiB,MAApB;AACH;;AAED,gBAAMC,KAAK,GAAGH,GAAG,CAACG,KAAJ,CAAU5C,OAAV,IAAqByC,GAAG,CAACI,UAAvC;AACA,mBAAO,wDAAWD,KAAX,CAAP;AACH,WARgC,CAA1B,CAAP;AASH;;;;;;;uBAbQR,gB,EAAgB,oH;AAAA,K;;;aAAhBA,gB;AAAgB,eAAhBA,gBAAgB;;;;;sEAAhBA,gB,EAAgB;cAD5B;AAC4B,Q;;;;;;;;;;;;;;;;;;;;;;ACR7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAQaU,c;AACT,8BAAoBpB,cAApB,EAAoD;AAAA;;AAAhC,aAAAA,cAAA,GAAAA,cAAA;AAAmC;;;;kCAE7CW,O,EAA2BC,I,EAAiB;AAClD;AACA,cAAMT,IAAI,GAAG,KAAKH,cAAL,CAAoBI,SAAjC;AACA,cAAMiB,UAAU,GAAGlB,IAAI,IAAIA,IAAI,CAACmB,KAAhC;AACA,cAAMC,QAAQ,GAAGZ,OAAO,CAACH,GAAR,CAAYgB,UAAZ,CAAuB,sEAAYC,MAAnC,CAAjB;;AACA,cAAIJ,UAAU,IAAIE,QAAlB,EAA4B;AACxBZ,mBAAO,GAAGA,OAAO,CAACe,KAAR,CAAc;AACpBC,wBAAU,EAAE;AACRC,6BAAa,YAAKzB,IAAI,CAACmB,KAAV;AADL;AADQ,aAAd,CAAV;AAKH;;AAED,iBAAOV,IAAI,CAACC,MAAL,CAAYF,OAAZ,CAAP;AACH;;;;;;;uBAjBQS,c,EAAc,oH;AAAA,K;;;aAAdA,c;AAAc,eAAdA,cAAc;;;;;sEAAdA,c,EAAc;cAD1B;AAC0B,Q;;;;;;;;;;;;;;;;;;;;;;ACR3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAAaS,K,GAQT,eAAYC,IAAZ,EAAkC;AAAA;;AAC9B,WAAKlD,SAAL,GAAiB,IAAjB;AACAmD,YAAM,CAACC,MAAP,CAAc,IAAd,EAAoBF,IAApB;AACH,K;;AAGL,QAAYG,SAAZ;;AAAA,eAAYA,SAAZ,EAAqB;AACjB;AACA;AACA;AACA;AACH,KALD,EAAYA,SAAS,KAATA,SAAS,MAArB;;;;;;;;;;;;;;;;;ACdA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;;QAAaC,I;;;;;;;;;;;;;;;;;;;ACAb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAUaC,c;AAKX,8BACUrE,MADV,EAEUsE,IAFV,EAE0B;AAAA;;AADhB,aAAAtE,MAAA,GAAAA,MAAA;AACA,aAAAsE,IAAA,GAAAA,IAAA,CAAgB,CAExB;;AACA,aAAKC,WAAL,GAAmB,IAAI,oDAAJ,CAA0BC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAA1B,CAAnB;AACA,aAAKtC,IAAL,GAAY,KAAKkC,WAAL,CAAiBK,YAAjB,EAAZ;AACD;;;;8BAMKC,K,EAAOC,Q,EAAU;AAAA;;AACrB,iBAAO,KAAKR,IAAL,CAAUS,IAAV,WAAwB,sEAAYpB,MAApC,kBAAyD;AAAE,qBAASkB,KAAX;AAAkB,wBAAYC;AAA9B,WAAzD,EACJ9B,IADI,CACC,2DAAI,UAAAX,IAAI,EAAI;AAChB;AACAqC,wBAAY,CAACM,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACS,SAAL,CAAe5C,IAAf,CAA7B;;AACA,kBAAI,CAACkC,WAAL,CAAiBzB,IAAjB,CAAsBT,IAAtB;;AACA,mBAAOA,IAAP;AACD,WALK,CADD,CAAP;AAOD;;;kCAES;AACR,iBAAOmC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCO,IAAhD;AACD;;;iCAEQ;AACP;AACAR,sBAAY,CAACS,UAAb,CAAwB,MAAxB;AACA,eAAKZ,WAAL,CAAiBzB,IAAjB,CAAsB,IAAtB;AACA,eAAK9C,MAAL,CAAYuC,QAAZ,CAAqB,CAAC,gBAAD,CAArB;AACD;;;iCAEQF,I,EAAY;AACnBA,cAAI,CAAC6C,IAAL,GAAY,MAAZ;AACA,iBAAO,KAAKZ,IAAL,CAAUS,IAAV,WAAkB,sEAAYpB,MAA9B,sBAAuDtB,IAAvD,CAAP;AACD;;;iCAEQ;AACP,iBAAO,KAAKiC,IAAL,CAAUc,GAAV,WAAyB,sEAAYzB,MAArC,YAAP;AACD;;;gCAEO7D,E,EAAY;AAClB,iBAAO,KAAKwE,IAAL,CAAUc,GAAV,WAAuB,sEAAYzB,MAAnC,oBAAmD7D,EAAnD,EAAP;AACD;;;+BAEMA,E,EAAIuF,M,EAAQ;AAAA;;AACjB,iBAAO,KAAKf,IAAL,CAAUgB,GAAV,WAAiB,sEAAY3B,MAA7B,oBAA6C7D,EAA7C,GAAmDuF,MAAnD,EACJrC,IADI,CACC,2DAAI,UAAAtC,CAAC,EAAI;AACb;AACA,gBAAIZ,EAAE,IAAI,MAAI,CAACwC,SAAL,CAAexC,EAAzB,EAA6B;AAC3B;AACA,kBAAMuC,IAAI,GAAG,MAAH,OAAG,CAAH,kBAAQ,MAAI,CAACC,SAAb,CAAG,EAAwB+C,MAAxB,CAAb;AACAX,0BAAY,CAACM,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACS,SAAL,CAAe5C,IAAf,CAA7B,EAH2B,CAK3B;;AACA,oBAAI,CAACkC,WAAL,CAAiBzB,IAAjB,CAAsBT,IAAtB;AACD;;AACD,mBAAO3B,CAAP;AACD,WAXK,CADD,CAAP;AAaD;;;4CAEmBZ,E,EAAIuF,M,EAAQ;AAAA;;AAC9B,iBAAO,KAAKf,IAAL,CAAUgB,GAAV,WAAiB,sEAAY3B,MAA7B,oBAA6C7D,EAA7C,GAAmDuF,MAAnD,EACJrC,IADI,CACC,2DAAI,UAAAtC,CAAC,EAAI;AACb;AACA,gBAAIZ,EAAE,KAAK,MAAI,CAACwC,SAAL,CAAexC,EAA1B,EAA8B;AAC5B;AACA,kBAAMuC,IAAI,GAAG,MAAH,OAAG,CAAH,kBAAQ,MAAI,CAACC,SAAb,CAAG,EAAwB+C,MAAxB,CAAb;AACAX,0BAAY,CAACM,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACS,SAAL,CAAe5C,IAAf,CAA7B,EAH4B,CAK5B;;AACA,oBAAI,CAACkC,WAAL,CAAiBzB,IAAjB,CAAsBT,IAAtB;AACD;;AACD,mBAAO3B,CAAP;AACD,WAXK,CADD,CAAP;AAaD;;;mCAEUZ,E,EAAIyF,W,EAAa;AAAA;;AAC1B,iBAAO,KAAKjB,IAAL,CAAUgB,GAAV,WAAiB,sEAAY3B,MAA7B,6BAAsD7D,EAAtD,GAA4D;AAAE,2BAAeyF;AAAjB,WAA5D,EACJvC,IADI,CACC,2DAAI,UAAAtC,CAAC,EAAI;AACb;AACA,gBAAIZ,EAAE,KAAK,MAAI,CAACwC,SAAL,CAAexC,EAA1B,EAA8B;AAC5B;AACA,kBAAMuC,IAAI,GAAG,MAAH,OAAG,CAAH,kBAAQ,MAAI,CAACC,SAAb,CAAG,EAAwBiD,WAAxB,CAAb;AACAb,0BAAY,CAACM,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACS,SAAL,CAAe5C,IAAf,CAA7B,EAH4B,CAK5B;;AACA,oBAAI,CAACkC,WAAL,CAAiBzB,IAAjB,CAAsBT,IAAtB;AACD;;AACD,mBAAO3B,CAAP;AACD,WAXK,CADD,CAAP;AAaD;;;gCAEMZ,E,EAAY;AAAA;;AACjB,iBAAO,KAAKwE,IAAL,qBAAoB,sEAAYX,MAAhC,oBAAgD7D,EAAhD,GACJkD,IADI,CACC,2DAAI,UAAAtC,CAAC,EAAI;AACb;AACA,gBAAIZ,EAAE,IAAI,MAAI,CAACwC,SAAL,CAAexC,EAAzB,EAA6B;AAC3B,oBAAI,CAACqD,MAAL;AACD;;AACD,mBAAOzC,CAAP;AACD,WANK,CADD,CAAP;AAQD;;;kCAESZ,E,EAAY+B,I,EAAc;AAClC,iBAAO,KAAKyC,IAAL,CAAUS,IAAV,WAAkB,sEAAYpB,MAA9B,cAA+C;AAAE,sBAAU7D,EAAZ;AAAgB,yBAAa+B;AAA7B,WAA/C,EAAoFvB,SAApF,EAAP;AACD;;;0CAEiB;AAChB,iBAAO,KAAKgE,IAAL,CAAUc,GAAV,WAAiB,sEAAYzB,MAA7B,oBAAP;AACD;;;4BAvGmB;AAClB,iBAAO,KAAKY,WAAL,CAAiBiB,KAAxB;AACD;;;;;;;uBAhBUnB,c,EAAc,8G,EAAA,uH;AAAA,K;;;aAAdA,c;AAAc,eAAdA,cAAc,K;AAAA,kBADD;;;;;sEACbA,c,EAAc;cAD1B,wDAC0B;eADf;AAAE1B,oBAAU,EAAE;AAAd,S;AACe,Q;;;;;;;;;;;;;;;;;;;;;;;;ACV3B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOa8C,Y;AADb;AAAA;;AAEY,aAAAC,OAAA,GAAU,IAAI,4CAAJ,EAAV;AACA,aAAAC,SAAA,GAAY,eAAZ;AACA,aAAAC,GAAA,GAAM,IAAN;AAiCX,O,CA/BG;;;;;kCAC2B;AAAA,cAAnB9F,EAAmB,uEAAd,KAAK6F,SAAS;AACvB,iBAAO,KAAKD,OAAL,CAAad,YAAb,GAA4B5B,IAA5B,CAAiC,8DAAO,UAAAtC,CAAC;AAAA,mBAAIA,CAAC,IAAIA,CAAC,CAACZ,EAAF,KAASA,EAAlB;AAAA,WAAR,CAAjC,CAAP;AACH,S,CAED;;;;gCACQU,O,EAAiBqF,O,EAAe;AACpC,eAAKtF,KAAL,CAAW,IAAI,iDAAJ,CAAU,MAAD,OAAC,CAAD,kBAAMsF,OAAN,CAAC,EAAY;AAAEhE,gBAAI,EAAE,sDAAUH,OAAlB;AAA2BlB,mBAAO,EAAPA;AAA3B,WAAZ,CAAV,CAAX;AACH;;;8BAEKA,O,EAAiBqF,O,EAAe;AAClC,eAAKtF,KAAL,CAAW,IAAI,iDAAJ,CAAU,MAAD,OAAC,CAAD,kBAAMsF,OAAN,CAAC,EAAY;AAAEhE,gBAAI,EAAE,sDAAUpC,KAAlB;AAAyBe,mBAAO,EAAPA;AAAzB,WAAZ,CAAV,CAAX;AACH;;;6BAEIA,O,EAAiBqF,O,EAAe;AACjC,eAAKtF,KAAL,CAAW,IAAI,iDAAJ,CAAU,MAAD,OAAC,CAAD,kBAAMsF,OAAN,CAAC,EAAY;AAAEhE,gBAAI,EAAE,sDAAUF,IAAlB;AAAwBnB,mBAAO,EAAPA;AAAxB,WAAZ,CAAV,CAAX;AACH;;;6BAEIA,O,EAAiBqF,O,EAAe;AACjC,eAAKtF,KAAL,CAAW,IAAI,iDAAJ,CAAU,MAAD,OAAC,CAAD,kBAAMsF,OAAN,CAAC,EAAY;AAAEhE,gBAAI,EAAE,sDAAUD,OAAlB;AAA2BpB,mBAAO,EAAPA;AAA3B,WAAZ,CAAV,CAAX;AACH,S,CAED;;;;8BACMD,M,EAAc;AAChBA,gBAAK,CAACT,EAAN,GAAWS,MAAK,CAACT,EAAN,IAAY,KAAK6F,SAA5B;AACA,eAAKD,OAAL,CAAa5C,IAAb,CAAkBvC,MAAlB;AACH;;;gCAE0B;AAAA,cAArBT,EAAqB,uEAAhB,KAAK6F,SAAW;AACvB,eAAKD,OAAL,CAAa5C,IAAb,CAAkB,IAAI,iDAAJ,CAAU;AAAEhD,cAAE,EAAFA;AAAF,WAAV,CAAlB;AACH;;;;;;;uBAnCQ2F,Y;AAAY,K;;;aAAZA,Y;AAAY,eAAZA,YAAY,K;AAAA,kBADC;;;;;sEACbA,Y,EAAY;cADxB,wDACwB;eADb;AAAE9C,oBAAU,EAAE;AAAd,S;AACa,Q;;;;;;;;;;;;;;;;;;ACPzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAWamD,W;AAOX,2BACU9F,MADV,EAEUsE,IAFV,EAE0B;AAAA;;AADhB,aAAAtE,MAAA,GAAAA,MAAA;AACA,aAAAsE,IAAA,GAAAA,IAAA;AAER,aAAKyB,MAAL,GAAcvB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAd;AACA,aAAKqB,eAAL,GAAuB,IAAI,oDAAJ,CAAgCxB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAhC,CAAvB;AACA,aAAKsB,UAAL,GAAkB,KAAKD,eAAL,CAAqBpB,YAArB,EAAlB;AACA,aAAKsB,WAAL,GAAmB,IAAI,oDAAJ,CAA0B1B,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAA1B,CAAnB;AACA,aAAKwB,IAAL,GAAY,KAAKD,WAAL,CAAiBtB,YAAjB,EAAZ;AACD;;;;wCAMewB,O,EAAiB;AAC/B,iBAAO,KAAK9B,IAAL,CAAUc,GAAV,CAAc,mDAAmDgB,OAAjE,CAAP;AACD;;;6BAEID,I,EAAY;AACf,iBAAO,KAAK7B,IAAL,CAAUS,IAAV,WAAkB,sEAAYpB,MAA9B,aAA8CwC,IAA9C,CAAP;AACD;;;0CAEiB;AAChB,iBAAO,KAAK7B,IAAL,CAAUc,GAAV,WAAiB,sEAAYzB,MAA7B,gBAAP;AACD;;;gCAEO7D,E,EAAY;AAClB,iBAAO,KAAKwE,IAAL,CAAUc,GAAV,WAAuB,sEAAYzB,MAAnC,oBAAmD7D,EAAnD,EAAP;AACD;;;iCAEQ;AACP,iBAAO,KAAKwE,IAAL,CAAUc,GAAV,WAAyB,sEAAYzB,MAArC,YAAP;AACD;;;yCAEgB;AACf,iBAAO,KAAKW,IAAL,CAAUc,GAAV,WAAyB,sEAAYzB,MAArC,qBAAP;AACD;;;2CAEkB;AACjB,iBAAO,KAAKW,IAAL,CAAUc,GAAV,WAAiB,sEAAYzB,MAA7B,uBAAP;AACD;;;gCAEM7D,E,EAAY;AACjB,iBAAO,KAAKwE,IAAL,qBAAoB,sEAAYX,MAAhC,oBAAgD7D,EAAhD,GACJkD,IADI,CACC,2DAAI,UAAAtC,CAAC,EAAI;AACb,mBAAOA,CAAP;AACD,WAFK,CADD,CAAP;AAID;;;iCAEQyF,I,EAAYJ,M,EAAgBM,e,EAA0B;AAC7DF,cAAI,CAACJ,MAAL,GAAcA,MAAd;AACAI,cAAI,CAACE,eAAL,GAAuBA,eAAvB;AACA,iBAAO,KAAK/B,IAAL,CAAUS,IAAV,WAAkB,sEAAYpB,MAA9B,aAA8CwC,IAA9C,CAAP;AACD;;;6BAEIJ,M,EAAgBO,M,EAAgBC,K,EAAc;AACjD,iBAAO,KAAKjC,IAAL,CAAUS,IAAV,WAAkB,sEAAYpB,MAA9B,YAA6C;AAAE,sBAAUoC,MAAZ;AAAoB,sBAAUO,MAA9B;AAAsC,oBAAQC;AAA9C,WAA7C,CAAP;AACD;;;sCAEarD,M,EAAQoD,M,EAAQ;AAC5B,iBAAO,KAAKhC,IAAL,CAAUc,GAAV,WAAiB,sEAAYzB,MAA7B,2BAAoDT,MAApD,mBAAmEoD,MAAnE,EAAP;AACD;;;wCAEeP,M,EAAQO,M,EAAQE,Q,EAAU;AACxC,iBAAO,KAAKlC,IAAL,CAAUS,IAAV,WAAkB,sEAAYpB,MAA9B,qBACL;AAAE,sBAAUoC,MAAZ;AAAoB,sBAAUO,MAA9B;AAAsC,oBAAQE;AAA9C,WADK,CAAP;AAED;;;2CAEkBT,M,EAAQU,S,EAAWD,Q,EAAU;AAC9C,iBAAO,KAAKlC,IAAL,CAAUS,IAAV,WAAkB,sEAAYpB,MAA9B,wBACL;AAAE,sBAAUoC,MAAZ;AAAoB,yBAAaU,SAAjC;AAA4C,oBAAQD;AAApD,WADK,CAAP;AAED;;;gCAEOE,Q,EAASX,M,EAAQO,M,EAAQ;AAC/B,iBAAO,KAAKhC,IAAL,CAAUS,IAAV,WAAkB,sEAAYpB,MAA9B,iBAAkD;AAAE,sBAAUoC,MAAZ;AAAoB,sBAAUO,MAA9B;AAAsC,uBAAWI;AAAjD,WAAlD,CAAP;AACD;;;qCAEYX,M,EAAQO,M,EAAQpD,M,EAAQ;AACnC,iBAAO,KAAKoB,IAAL,CAAUS,IAAV,WAAkB,sEAAYpB,MAA9B,kCAAmE;AAAE,sBAAU2C,MAAZ;AAAoB,sBAAUP,MAA9B;AAAsC,yBAAa7C;AAAnD,WAAnE,CAAP;AACD;;;8CAEqBA,M,EAAQ;AAC5B,iBAAO,KAAKoB,IAAL,CAAUc,GAAV,WAAiB,sEAAYzB,MAA7B,2BAAoDT,MAApD,EAAP;AACD;;;+BAEMpD,E,EAAIuF,M,EAAQ;AACjB,iBAAO,KAAKf,IAAL,CAAUgB,GAAV,WAAiB,sEAAY3B,MAA7B,oBAA6C7D,EAA7C,GAAmDuF,MAAnD,CAAP;AACD;;;0CAEiB;AAChB,iBAAO,KAAKf,IAAL,CAAUc,GAAV,WAAiB,sEAAYzB,MAA7B,oBAAP;AACD;;;4CAEmB;AAClB,iBAAO,KAAKW,IAAL,CAAUc,GAAV,WAAiB,sEAAYzB,MAA7B,sBAAP;AACD;;;2CAEkBjB,G,EAAK;AACtB,iBAAO,KAAK4B,IAAL,CAAUc,GAAV,WAAiB,sEAAYzB,MAA7B,+BAAwDjB,GAAxD,EAAP;AACD;;;4BAzFmB;AAClB,iBAAO,KAAKwD,WAAL,CAAiBV,KAAxB;AACD;;;;;;;uBApBUM,W,EAAW,8G,EAAA,uH;AAAA,K;;;aAAXA,W;AAAW,eAAXA,WAAW,K;AAAA,kBADE;;;;;sEACbA,W,EAAW;cADvB,wDACuB;eADZ;AAAEnD,oBAAU,EAAE;AAAd,S;AACY,Q;;;;;;;;;;;;;;;;;;;;;;;;ACXxB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAWA,QAAMgE,aAAa,GAAG,SAAhBA,aAAgB;AAAA,aAAM;AAAA;AAAA;AAAA;AAAA,8CAAmCpH,IAAnC,CAAwC,UAAAmB,CAAC;AAAA,eAAIA,CAAC,CAACkG,aAAN;AAAA,OAAzC,CAAN;AAAA,KAAtB;;AACA,QAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,aAAM;AAAA;AAAA;AAAA;AAAA,0CAA+BtH,IAA/B,CAAoC,UAAAmB,CAAC;AAAA,eAAIA,CAAC,CAACoG,WAAN;AAAA,OAArC,CAAN;AAAA,KAApB;;AACA,QAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,aAAM;AAAA;AAAA;AAAA;AAAA,0CAA+BxH,IAA/B,CAAoC,UAAAmB,CAAC;AAAA,eAAIA,CAAC,CAACsG,WAAN;AAAA,OAArC,CAAN;AAAA,KAApB;;AAEA,QAAMC,MAAM,GAAW,CACrB;AAACC,UAAI,EAAE,EAAP;AAAWC,eAAS,EAAE,mDAAtB;AAAqCC,iBAAW,EAAE,CAAC,kDAAD;AAAlD,KADqB,EAErB;AAACF,UAAI,EAAE,OAAP;AAAgBG,kBAAY,EAAER,WAA9B;AAA2CO,iBAAW,EAAE,CAAC,kDAAD;AAAxD,KAFqB,EAGrB;AAACF,UAAI,EAAE,SAAP;AAAkBG,kBAAY,EAAEV;AAAhC,KAHqB,EAIrB;AAACO,UAAI,EAAE,aAAP;AAAsBC,eAAS,EAAE;AAAjC,KAJqB,EAKrB;AAACD,UAAI,EAAE,kBAAP;AAA2BC,eAAS,EAAE;AAAtC,KALqB,EAMrB;AAACD,UAAI,EAAE,OAAP;AAAgBI,cAAQ,EAAE,CACtB;AACEJ,YAAI,EAAE,EADR;AACYG,oBAAY,EAAEN,WAD1B;AACuCK,mBAAW,EAAE,CAAC,kDAAD;AADpD,OADsB,EAItB;AACEF,YAAI,EAAE,KADR;AACeC,iBAAS,EAAE;AAD1B,OAJsB;AAA1B,KANqB,EAcrB;AAACD,UAAI,EAAE,mBAAP;AAA4BC,eAAS,EAAE;AAAvC,KAdqB,EAerB;AAACD,UAAI,EAAE,WAAP;AAAoBC,eAAS,EAAE;AAA/B,KAfqB,EAgBrB;AACA;AAACD,UAAI,EAAE,IAAP;AAAaK,gBAAU,EAAE;AAAzB,KAjBqB,CAAvB;;QA2BaC,gB;;;;;YAAAA;;;;yBAAAA,gB;AAAgB,O;AAAA,gBAHlB,CAAC,6DAAaC,OAAb,CAAqBR,MAArB,CAAD,CAGkB,EAFjB,4DAEiB;;;;0HAAhBO,gB,EAAgB;AAAA;AAAA,kBAFjB,4DAEiB;AAAA,O;AAFL,K;;;;;sEAEXA,gB,EAAgB;cAJ5B,sDAI4B;eAJnB;AACRE,iBAAO,EAAE,CAAC,6DAAaD,OAAb,CAAqBR,MAArB,CAAD,CADD;AAERpH,iBAAO,EAAE,CAAC,4DAAD;AAFD,S;AAImB,Q;;;;;;;;;;;;;;;;;;AC1C7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACMM;;AAAyG;;AAAK;;;;;;AAC9G;;AAAyG;;AAAK;;;;;;AAE9G;;AAAuG;;AAAS;;;;;;;;;;;;;;AAPtH;;AACI;;AACE;;AAA8C;;AAA9C;;AACA;;AAAgH;;AAAI;;AACpH;;AACA;;AACA;;AAAwF;;AAAU;;AAClG;;AACA;;AAA6B;AAAA;;AAAA;;AAAA;AAAA;;AAAmB;;AAAM;;AACxD;;AACJ;;;;;;AAP4E;;AAAA;;AACnE;;AAAA;;AACA;;AAAA;;AAC0B;;AAAA;;AAC1B;;AAAA;;;;;;AAWT;;AACE;;AACE;;AAAsB;;AAAtB;;AACA;;AACE;;AAAG;;AAAiH;;AACpH;;AAAG;;AAA8F;;AACnG;;AACA;;AACE;;AACE;;AACE;;AACC;;AAAA;;AAAuS;;AAA8c;;AACtvB;;AACF;;AACA;;AAAA;;AACE;;AACE;;AAAA;;AAAuS;;AAA6wB;;AACtjC;;AACF;;AACA;;AAAA;;AACE;;AACE;;AAAA;;AAAwN;;AAAmpF;;AAC72F;;AACF;;AACA;;AAAA;;AACE;;AACA;;AAAA;;AAAsS;;AAAy+C;;AAAgB;;AACjyD;;AACF;;AACA;;AAAA;;AAAe;;AAAyB;;AACxC;;AAAe;;AAAoB;;AACrC;;AACA;;AACE;;AACE;;AAAA;;AAAkN;;AAAG;;AAAuS;;AAAoM;;AAAsB;;AAAI;;AAC1tB;;AAAA;;AAAgD;;AAAkB;;AAAI;;AAAqC;;AAC7G;;AACA;;AACE;;AAAA;;AAAkN;;AAA4nB;;AAC90B;;AAAA;;AAA+C;;AAAe;;AAChE;;AACA;;AACE;;AAAA;;AAAkN;;AAAG;;AAAmP;;AAAgf;;AAAI;;AAC57B;;AAAA;;AAAgD;;AAAmB;;AACrE;;AACF;;AACA;;AAAuB;;AAAvB;;AACF;;AACF;;;;;;;;;;QD1Da8H,Y;AAKT,4BAAoBzF,cAApB,EAAoD;AAAA;;AAAA;;AAAhC,aAAAA,cAAA,GAAAA,cAAA,CAAgC,CAChD;;AACA,aAAKA,cAAL,CAAoBG,IAApB,CAAyB/B,SAAzB,CAAmC,UAAAI,CAAC;AAAA,iBAAI,MAAI,CAAC2B,IAAL,GAAY3B,CAAhB;AAAA,SAApC,EAFgD,CAGhD;AACA;AACA;AACH;;;;iCAEQ;AACL,eAAKwB,cAAL,CAAoBiB,MAApB;AACH;;;;;;;uBAfQwE,Y,EAAY,yH;AAAA,K;;;YAAZA,Y;AAAY,0B;AAAA,c;AAAA,a;AAAA,6gV;AAAA;AAAA;ACRzB;;AAaA;;AACI;;AACA;;AACJ;;AAEA;;;;AAlBsD;;AAa3B;;AAAA;;AAKnB;;AAAA;;;;;;;;;sEDVKA,Y,EAAY;cALxB,uDAKwB;eALd;AACP5F,kBAAQ,EAAE,KADH;AAEPC,qBAAW,EAAE;AAFN,S;AAKc,Q;;;;;;;;;;;;;;;;;;;;;;AEVzB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAoBiD;;QAiCpC4F,S;;;;;YAAAA,S;AAAS,kBAJR,2DAIQ;;;;yBAATA,S;AAAS,O;AAAA,gBA7BX,CACP,uEADO,EAEP,kEAFO,EAGP,qEAHO,EAIP,oEAJO,EAKP,0DALO,EAMP,qEANO,EAOP,oEAPO,EAQP,0FARO,EASP,+EATO,EAUP,oEAVO,EAWP,iEAXO,CA6BW;;;;0HAATA,S,EAAS;AAAA,uBAdlB,2DAckB,EAblB,0DAakB,EAZlB,mDAYkB,EAXlB,6FAWkB,EAVlB,uFAUkB,EATlB,4EASkB,EARlB,yFAQkB,EAPlB,kFAOkB;AAPA,kBArBlB,uEAqBkB,EApBlB,kEAoBkB,EAnBlB,qEAmBkB,EAlBlB,oEAkBkB,EAjBlB,0DAiBkB,EAhBlB,qEAgBkB,EAflB,oEAekB,EAdlB,0FAckB,EAblB,+EAakB,EAZlB,oEAYkB,EAXlB,iEAWkB;AAOA,O;AAlBA,K;;;;;sEAkBTA,S,EAAS;cA9BrB,sDA8BqB;eA9BZ;AACRF,iBAAO,EAAE,CACP,uEADO,EAEP,kEAFO,EAGP,qEAHO,EAIP,oEAJO,EAKP,0DALO,EAMP,qEANO,EAOP,oEAPO,EAQP,0FARO,EASP,+EATO,EAUP,oEAVO,EAWP,iEAXO,CADD;AAeRG,sBAAY,EAAE,CACZ,2DADY,EAEZ,0DAFY,EAGZ,mDAHY,EAIZ,6FAJY,EAKZ,uFALY,EAMZ,4EANY,EAOZ,yFAPY,EAQZ,kFARY,CAfN;AA0BRC,mBAAS,EAAE,CAAC,2DAAD,CA1BH;AA2BRjI,iBAAO,EAAE;AA3BD,S;AA8BY,Q;;;;;;;;;;;;;;;;;;ACrDtB;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;QAgEakI,kB;AAmCX,kCACUC,cADV,EAEUC,WAFV,EAGUC,WAHV,EAIUjI,YAJV,EAIoC;AAAA;;AAH1B,aAAA+H,cAAA,GAAAA,cAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACA,aAAAjI,YAAA,GAAAA,YAAA;AA5BV,aAAAkI,cAAA,GAAgC,EAAhC;AACA,aAAAC,eAAA,GAAiC,EAAjC;AAOA,aAAAC,oBAAA,GAAsC,EAAtC;AACA,aAAAC,qBAAA,GAAuC,EAAvC;AAIA,aAAAC,eAAA,GAAqD,EAArD;AAiBE,aAAKC,yBAAL,GAAiC;AAC/BC,gBAAM,EAAE,CACN;AACEC,gBAAI,EAAE,OADR;AAEEC,gBAAI,EAAE,KAAKP;AAFb,WADM,CADuB;AAO/BQ,eAAK,EAAE;AACLC,kBAAM,EAAE,GADH;AAELhH,gBAAI,EAAE,KAFD;AAGLX,kBAAM,EAAE;AACN4H,mBADM,iBACAF,KADA,EACOG,CADP,EACUvJ,CADV,EACa,CAClB;AAFK;AAHH,WAPwB;AAe/BwJ,gBAAM,EAAE,CACN,SADM,EAEN,SAFM,EAGN,SAHM,EAIN,SAJM,EAKN,SALM,EAMN,SANM,EAON,SAPM,EAQN,SARM,CAfuB;AAyB/BC,qBAAW,EAAE;AACXC,eAAG,EAAE;AACHC,yBAAW,EAAE,KADV;AAEHC,yBAAW,EAAE;AAFV;AADM,WAzBkB;AA+B/BC,oBAAU,EAAE;AACVC,mBAAO,EAAE;AADC,WA/BmB;AAkC/BC,gBAAM,EAAE;AACNC,gBAAI,EAAE;AADA,WAlCuB;AAqC/BC,cAAI,EAAE;AACJD,gBAAI,EAAE;AADF,WArCyB;AAwC/BE,eAAK,EAAE;AACLzD,sBAAU,EAAE,KAAKkC,cADZ;AAELwB,kBAAM,EAAE;AACNC,mBAAK,EAAE;AACLZ,sBAAM,EAAE,CACN,SADM,EAEN,SAFM,EAGN,SAHM,EAIN,SAJM,EAKN,SALM,EAMN,SANM,EAON,SAPM,EAQN,SARM,CADH;AAWLa,wBAAQ,EAAE;AAXL;AADD;AAFH;AAxCwB,SAAjC;AA4DA,aAAKC,4BAAL,GAAoC;AAClCrB,gBAAM,EAAE,CACN;AACEC,gBAAI,EAAE,OADR;AAEEC,gBAAI,EAAE,KAAKL;AAFb,WADM,CAD0B;AAOlCM,eAAK,EAAE;AACLC,kBAAM,EAAE,GADH;AAELhH,gBAAI,EAAE,KAFD;AAGLX,kBAAM,EAAE;AACN4H,mBADM,iBACAF,KADA,EACOG,CADP,EACUvJ,CADV,EACa,CAClB;AAFK;AAHH,WAP2B;AAelCwJ,gBAAM,EAAE,CACN,SADM,EAEN,SAFM,EAGN,SAHM,EAIN,SAJM,EAKN,SALM,EAMN,SANM,EAON,SAPM,EAQN,SARM,CAf0B;AAyBlCC,qBAAW,EAAE;AACXC,eAAG,EAAE;AACHC,yBAAW,EAAE,KADV;AAEHC,yBAAW,EAAE;AAFV;AADM,WAzBqB;AA+BlCC,oBAAU,EAAE;AACVC,mBAAO,EAAE;AADC,WA/BsB;AAkClCC,gBAAM,EAAE;AACNC,gBAAI,EAAE;AADA,WAlC0B;AAqClCC,cAAI,EAAE;AACJD,gBAAI,EAAE;AADF,WArC4B;AAwClCE,eAAK,EAAE;AACLzD,sBAAU,EAAE,KAAKoC,oBADZ;AAELsB,kBAAM,EAAE;AACNC,mBAAK,EAAE;AACLZ,sBAAM,EAAE,CACN,SADM,EAEN,SAFM,EAGN,SAHM,EAIN,SAJM,EAKN,SALM,EAMN,SANM,EAON,SAPM,EAQN,SARM,CADH;AAWLa,wBAAQ,EAAE;AAXL;AADD;AAFH;AAxC2B,SAApC;AA4DA,aAAKE,yBAAL,GAAiC;AAC/BtB,gBAAM,EAAE,CACN;AACEC,gBAAI,EAAE,OADR;AAEEC,gBAAI,EAAE,KAAKP;AAFb,WADM,CADuB;AAO/BQ,eAAK,EAAE;AACLC,kBAAM,EAAE,GADH;AAELhH,gBAAI,EAAE,KAFD;AAGLX,kBAAM,EAAE;AACN4H,mBADM,iBACAF,KADA,EACOG,CADP,EACUvJ,CADV,EACa,CAClB;AAFK;AAHH,WAPwB;AAe/BwJ,gBAAM,EAAE,CACN,SADM,EAEN,SAFM,EAGN,SAHM,EAIN,SAJM,EAKN,SALM,EAMN,SANM,EAON,SAPM,EAQN,SARM,CAfuB;AAyB/BC,qBAAW,EAAE;AACXC,eAAG,EAAE;AACHC,yBAAW,EAAE,KADV;AAEHC,yBAAW,EAAE;AAFV;AADM,WAzBkB;AA+B/BC,oBAAU,EAAE;AACVC,mBAAO,EAAE;AADC,WA/BmB;AAkC/BC,gBAAM,EAAE;AACNC,gBAAI,EAAE;AADA,WAlCuB;AAqC/BC,cAAI,EAAE;AACJD,gBAAI,EAAE;AADF,WArCyB;AAwC/BE,eAAK,EAAE;AACLzD,sBAAU,EAAE,KAAKkC,cADZ;AAELwB,kBAAM,EAAE;AACNC,mBAAK,EAAE;AACLZ,sBAAM,EAAE,CACN,SADM,EAEN,SAFM,EAGN,SAHM,EAIN,SAJM,EAKN,SALM,EAMN,SANM,EAON,SAPM,EAQN,SARM,CADH;AAWLa,wBAAQ,EAAE;AAXL;AADD;AAFH;AAxCwB,SAAjC;AA6DA,aAAKG,YAAL,GAAoB;AAClB;AACA;AACAvB,gBAAM,EAAE,EAHU;AAIlBG,eAAK,EAAE;AACLqB,iBAAK,EAAE,GADF;AAELpI,gBAAI,EAAE;AAFD,WAJW;AAQlB8H,gBAAM,EAAE,CAAC,WAAD,EAAc,YAAd,CARU;AASlBO,oBAAU,EAAE,CACV;AACEC,sBAAU,EAAE,GADd;AAEEtE,mBAAO,EAAE;AACP+C,mBAAK,EAAE;AACLqB,qBAAK,EAAE;AADF,eADA;AAIPV,oBAAM,EAAE;AACNa,wBAAQ,EAAE;AADJ,eAJD;AAOPT,oBAAM,EAAE,CACN;AADM;AAPD;AAFX,WADU;AATM,SAApB;AA0BD;;;;mCAEU;AACT,eAAKU,iBAAL;AACA,eAAKC,eAAL;AACA,eAAKC,iBAAL;AACA,eAAKC,kBAAL;AACD;;;6CAGoB;AAAA;;AACnB,eAAKtC,WAAL,CAAiBsC,kBAAjB,CAAoC,wBAApC,EACGxH,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAAC8B,UAAL,GAAkB9B,IAAI,CAAC,cAAD,CAAJ,CAAqB,CAArB,EAAwBnD,KAA1C;AACD,WALL;AAOA,eAAK0C,WAAL,CAAiBsC,kBAAjB,CAAoC,kBAApC,EACGxH,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAAC+B,kBAAL,GAA0B/B,IAAI,CAAC,cAAD,CAAJ,CAAqB,CAArB,EAAwBnD,KAAlD;AACD,WALL;AAOA,eAAK0C,WAAL,CAAiBsC,kBAAjB,CAAoC,sBAApC,EACGxH,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AAEN,mBAAI,CAACgC,WAAL,GAAmBhC,IAAI,CAAC,cAAD,CAAJ,CAAqB,CAArB,EAAwBnD,KAA3C;AACA,mBAAI,CAACoF,cAAL,GAAsBjC,IAAI,CAAC,cAAD,CAAJ,CAAqB,CAArB,EAAwBnD,KAA9C;AACA,mBAAI,CAACqF,gBAAL,GAAwBlC,IAAI,CAAC,cAAD,CAAJ,CAAqB,CAArB,EAAwBnD,KAAhD;AACD,WARL;AAUA,eAAK0C,WAAL,CAAiBsC,kBAAjB,CAAoC,iBAApC,EACGxH,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAACmC,UAAL,GAAkBnC,IAAI,CAAC,cAAD,CAAJ,CAAqB,CAArB,EAAwBnD,KAA1C;AACD,WALL;AAOA,eAAK0C,WAAL,CAAiBsC,kBAAjB,CAAoC,gBAApC,EACGxH,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAACoC,MAAL,GAAcpC,IAAI,CAAC,cAAD,CAAJ,CAAqB,CAArB,EAAwBnD,KAAtC;AACD,WALL,EAhCmB,CAuCnB;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;;4CAEmB;AAAA;;AAClB,eAAK0C,WAAL,CAAiBqC,iBAAjB,GACGvH,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAACqC,cAAL,GAAsBrC,IAAtB;AACD,WALL;AAMD;;;0CAEiB;AAAA;;AAChB,eAAKT,WAAL,CAAiBoC,eAAjB,GACGtH,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAACsC,YAAL,GAAoBtC,IAApB;AACD,WALL;AAMD;;;4CAEmB;AAAA;;AAClB,eAAKT,WAAL,CAAiBgD,eAAjB,GACGlI,IADH,CACQ,8DADR,EAEG1C,SAFH,CAEa,UAAAqI,IAAI,EAAI;AACjB,mBAAI,CAACwC,SAAL,GAAiBxC,IAAjB;;AAEA,iBAAK,IAAIyC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,OAAI,CAACD,SAAL,CAAeE,gBAAf,CAAgCC,MAApD,EAA4DF,CAAC,EAA7D,EAAiE;AAC/D,qBAAI,CAACjD,cAAL,CAAoBtH,IAApB,CAAyB,OAAI,CAACsK,SAAL,CAAeE,gBAAf,CAAgCD,CAAhC,EAAmCG,QAA5D;;AACA,qBAAI,CAACnD,eAAL,CAAqBvH,IAArB,CAA0B,OAAI,CAACsK,SAAL,CAAeE,gBAAf,CAAgCD,CAAhC,EAAmCI,KAA7D;AACD;;AAED,mBAAI,CAACC,qBAAL,GAA6B,OAAI,CAACN,SAAL,CAAeO,6BAAf,CAA6CC,SAA1E;AACA,mBAAI,CAACC,qBAAL,GAA6B,OAAI,CAACT,SAAL,CAAeO,6BAAf,CAA6CG,UAA1E;AAEA5H,kBAAM,CAAC6H,OAAP,CAAe,OAAI,CAACX,SAAL,CAAeY,gBAA9B;;AACA,iBAAK,IAAIX,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,CAApB,EAAuBA,EAAC,EAAxB,EAA4B;AAC1B,qBAAI,CAAC/C,oBAAL,CAA0BxH,IAA1B,CAA+BoD,MAAM,CAAC6H,OAAP,CAAe,OAAI,CAACX,SAAL,CAAeY,gBAA9B,EAAgDX,EAAhD,EAAmD,CAAnD,EAAsDY,QAAtD,EAA/B;;AACA,qBAAI,CAAC1D,qBAAL,CAA2BzH,IAA3B,CAAgCoL,MAAM,CAACC,QAAP,CAAgBjI,MAAM,CAAC6H,OAAP,CAAe,OAAI,CAACX,SAAL,CAAeY,gBAA9B,EAAgDX,EAAhD,EAAmD,CAAnD,EAAsDY,QAAtD,EAAhB,CAAhC;AACD;AAEF,WAnBH;AAoBD;;;;;;;uBAzVUjE,kB,EAAkB,+H,EAAA,6H,EAAA,uI,EAAA,2H;AAAA,K;;;YAAlBA,kB;AAAkB,oC;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;AChE/B;;AACE;;AACE;;AACE;;AACA;;AACE;;AACE;;AAAA;;AAEV;;AAAoD;;AAA8E;;AAAc;;AAAQ;;AAAgF;;AAAgD;;AAAQ;;AACpR;;AAMZ;;AACQ;;AACA;;AAAA;;AAAoC;;AAAK;;AACzC;;AAAkC;;AAAQ;;AAAwB;;AAAS;;AAC7E;;AACA;;AACE;;AACE;;AACF;;AACA;;AAAoC;;AAAK;;AACzC;;AAAkC;;AAAQ;;AAAwB;;AAAS;;AAC7E;;AACA;;AACE;;AACE;;AACF;;AACA;;AAAoC;;AAAK;;AACzC;;AAAkC;;AAAQ;;AAAwB;;AAAS;;AAC7E;;AACF;;AAEA;;AACE;;AAAwB;;AAAyB;;AACjD;;AACE;;AACE;;AAAiB;;AAAE;;AACnB;;AAAwB;;AAA2B;;AACrD;;AACA;;AACE;;AAAiB;;AAAE;;AACnB;;AAAwB;;AAA2B;;AACrD;;AACA;;AACE;;AAAiB;;AAAE;;AACnB;;AAAwB;;AAAwB;;AAClD;;AACF;;AACF;;AACA;;AACA;;AACE;;AAAI;;AAAmB;;AAEvB;;AAAI;;AAAI;;AACR;;AACE;;AAAI;;AAAQ;;AAAkB;;AAAU;;AAA8B;;AACtE;;AAAI;;AAAQ;;AAAY;;AAAU;;AAAqC;;AACvE;;AAAI;;AAAQ;;AAAqB;;AAAS;;AAAiC;;AAC3E;;AAAI;;AAAQ;;AAAa;;AAAU;;AAAsC;;AAC3E;;AACA;;AAAI;;AAAM;;AACV;;AACE;;AAAI;;AAAQ;;AAAyB;;AAAU;;AAA8B;;AAC7E;;AAAI;;AAAQ;;AAAS;;AAAU;;AAAsD;;AACrF;;AAAI;;AAAQ;;AAAiB;;AAAS;;AAA0D;;AAChG;;AAAI;;AAAQ;;AAAgB;;AAAS;;AAAyD;;AAChG;;AACA;;AAAI;;AAAO;;AACX;;AACE;;AAAI;;AAAQ;;AAAmC;;AAAU;;AAA2B;;AACpF;;AAAI;;AAAQ;;AAAY;;AAAS;;AAAe;;AAChD;;AAAI;;AAAQ;;AAAa;;AAAS;;AAAmB;;AACrD;;AAAI;;AAAQ;;AAA8B;;AAAS;;AAAoB;;AACvE;;AAAI;;AAAQ;;AAAoC;;AAAU;;AAAyB;;AACnF;;AAAI;;AAAQ;;AAAiC;;AAAS;;AAAuB;;AAC7E;;AAAI;;AAAQ;;AAA2B;;AAAS;;AAAmB;;AACrE;;AAEF;;AACF;;AAGA;;AACE;;AACE;;AAAwB;;AAA2B;;AACnD;;AACE;;AAWF;;AACF;;AAEA;;AACE;;AAAwB;;AAAoC;;AAC5D;;AACE;;AAMF;;AACF;;AACF;;AAEA;;AACE;;AACE;;AAAwB;;AAA6C;;AACrE;;AAEE;;AAgBF;;AAEF;;AACA;;AACE;;AAAwB;;AAA2B;;AACnD;;AACE;;AACE;;AACE;;AAAI;;AAAwC;;AAC9C;;AACA;;AAAsD;;AAAtD;;AACA;;AACE;;AACE;;AAAA;;AACE;;AACF;;AACF;;AACA;;AAAA;;AAA8B;;AAAuC;;AACvE;;AACF;;AACA;;AACE;;AAA+C;;AAAE;;AACnD;;AACA;;AACE;;AACE;;AAAI;;AAA0C;;AAChD;;AACA;;AAAwD;;AAAxD;;AACA;;AACE;;AACE;;AAAA;;AACE;;AACF;;AACF;;AACA;;AAAA;;AAA8B;;AAAyC;;AACzE;;AACF;;AACF;;AACF;;AACF;;AACF;;;;AAhKkD;;AAAA;;AAOA;;AAAA;;AAOA;;AAAA;;AAShB;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAUc;;AAAA;;AACN;;AAAA;;AACQ;;AAAA;;AACP;;AAAA;;AAIY;;AAAA;;AAChB;;AAAA;;AACO;;AAAA;;AACD;;AAAA;;AAIoB;;AAAA;;AACxB;;AAAA;;AACC;;AAAA;;AACiB;;AAAA;;AACO;;AAAA;;AACJ;;AAAA;;AACN;;AAAA;;AAY9C;;AAAA,mHAA2C,OAA3C,EAA2C,mCAA3C,EAA2C,YAA3C,EAA2C,wCAA3C,EAA2C,aAA3C,EAA2C,yCAA3C,EAA2C,OAA3C,EAA2C,mCAA3C,EAA2C,OAA3C,EAA2C,mCAA3C,EAA2C,QAA3C,EAA2C,oCAA3C,EAA2C,QAA3C,EAA2C,oCAA3C,EAA2C,MAA3C,EAA2C,kCAA3C;;AAiBA;;AAAA,2MAAmE,OAAnE,EAAmE,sBAAnE,EAAmE,QAAnE,EAAmE,uBAAnE,EAAmE,YAAnE,EAAmE,2BAAnE;;AAeA;;AAAA,wPAKF,OALE,EAKF,sCALE,EAKF,YALE,EAKF,2CALE,EAKF,aALE,EAKF,4CALE,EAKF,OALE,EAKF,sCALE,EAKF,OALE,EAKF,sCALE,EAKF,QALE,EAKF,uCALE,EAKF,QALE,EAKF,uCALE,EAKF,MALE,EAKF,qCALE;;AAsB8B;;AAAA;;AACxB;;AAAA;;AAEH;;AAAA;;AAAwD;;AAAA;;AAO3B;;AAAA;;AAOF;;AAAA;;AACxB;;AAAA;;AAEH;;AAAA;;AAA0D;;AAAA;;AAO7B;;AAAA;;;;;;;;;sED5G7BA,kB,EAAkB;cAN9B,uDAM8B;eANpB;AACThG,kBAAQ,EAAE,eADD;AAETC,qBAAW,EAAE,4BAFJ;AAGTmK,mBAAS,EAAE,CAAC,4BAAD;AAHF,S;AAMoB,Q;;;;;;;;;;;;gBAC5B,uD;iBAAU,Q;;;gBACV,uD;iBAAU,e;;;gBACV,uD;iBAAU,Q;;;;;;;;;;;;;;;;;;;;AEnEb;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACsBY;;AACE;;AACE;;AACE;;AAIA;;AACE;;AACE;;AACE;;AAAK;;AAAyB;;AAAQ;;AAAO;;AAAmC;;AAChF;;AAAI;;AAAyB;;AAAQ;;AAAO;;AAAuC;;AACnF;;AAAI;;AAAwB;;AAAW;;AAAO;;AAA2C;;AAC3F;;AACA;;AACE;;AAAI;;AAAyB;;AAAO;;AAAO;;AAA2C;;AACtF;;AAAI;;AAAyB;;AAAQ;;AAAO;;AAAmD;;AAC/F;;AAAI;;AAAyB;;AAAU;;AAAO;;AAAyC;;AACzF;;AACA;;AACE;;AACE;;AACyE;;AAAO;;AAClF;;AACF;;AACA;;AACE;;AACE;;AACE;;AACE;;AAA2D;;AAAc;;AACzE;;AACE;;AAAyB;;AAAO;;AAClC;;AACF;;AACA;;AACE;;AACF;;AACA;;AACE;;AAAwE;;AAAK;;AAC7E;;AAA8C;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAAyB;;AAAG;;AAC5E;;AACF;;AACF;;AACF;;AACF;;AACA;;AACE;;AAAG;;AAAwB;;AAAa;;AAAO;;AAAsC;;AAA+C;;AAAQ;;AAC9I;;AACF;;AACF;;AACF;;AACF;;;;;;AAhD2B;;AAAA;;AAO8B;;AAAA;;AACD;;AAAA;;AACE;;AAAA;;AAGH;;AAAA;;AACC;;AAAA;;AACE;;AAAA;;AAItB;;AAAA;;AACd;;AAGqC;;AAAA;;AAIkB;;AAAA;;AAiBkB;;AAAA;;;;;;AA/CjG;;AACE;;AAoDF;;;;;;AApDO;;AAAA;;;;;;;;AAyEP;;AACA;;AAAG;AAAA;;AAAA;;AAAA;;AAAA,4CAA6B,YAAAZ,QAAA,WAA7B;AAAyD,SAAzD;;AAAkF;;AACnF;;AAAiC;;AAAkB;;AAAO;;AAC9D;;;;;;AAFuF;;AAAA;;AAClD;;AAAA;;;;;;AAoF3B;;AAAmG;;AAAe;;;;;;AAAf;;AAAA;;;;;;;;AACnG;;AACQ;AAAA;;AAAA;;AAAA;;AAAA,6CAAyB,WAAzB;AAAoC,SAApC;;AAEwB;;AAAW;;;;;;;;AAOrC;;AAA4C;AAAA;;AAAA;;AAAA;;AAAA,6CAAyB,UAAzB;AAAmC,SAAnC;;AAA4D;;AAAQ;;;;;;;;AAChH;;AAA4C;AAAA;;AAAA;;AAAA;;AAAA,6CAAyB,UAAzB;AAAmC,SAAnC;;AAA4D;;AAAQ;;;;;;;;AAChH;;AAA2C;AAAA;;AAAA;;AAAA;;AAAA,6CAAyB,SAAzB;AAAkC,SAAlC;;AAA2D;;AAAO;;;;;;;;AAC7G;;AAAoG;AAAA;;AAAA;;AAAA;;AAAA,6CAAyB,YAAzB;AAAqC,SAArC;;AAA8D;;AAAU;;;;;;;;AAC5K;;AAA6C;AAAA;;AAAA;;AAAA;;AAAA,6CAAyB,WAAzB;AAAoC,SAApC;;AAA6D;;AAAS;;;;;;;;AACnH;;AAA6C;AAAA;;AAAA;;AAAA;;AAAA,6CAAyB,QAAzB;AAAiC,SAAjC;;AAA0D;;AAAM;;;;;;AAXnH;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACA;;AACA;;AACA;;AACA;;AACA;;AACF;;AACF;;AACF;;;;;;AAXM;;AAAA;;AAGQ;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;;;AAtDxB;;AAEE;;AACE;;AACE;;AAAQ;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACN;;AAAA;;AACE;;AACF;;AACF;;AACA;;AAAA;;AACM;;AACF;;AACJ;;AAAsD;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AACpD;;AAAA;;AACE;;AACF;;AACF;;AACF;;AACA;;AAAA;;AACE;;AAEF;;AACA;;AACE;;AACE;;AACI;;AAAK;;AAAyB;;AAAQ;;AACpC;;AAAmC;;AAAmC;;AACxE;;AACF;;AAAI;;AAAyB;;AAAQ;;AAAO;;AAAuC;;AAEnF;;AAAI;;AAAyB;;AAAY;;AAAO;;AAAM;;AAA6C;;AAAO;;AAC5G;;AACA;;AACE;;AAAI;;AAAyB;;AAAO;;AAAO;;AAA2C;;AACtF;;AAAI;;AAAyB;;AAAQ;;AAAO;;AAAmD;;AAC/F;;AAAI;;AAAyB;;AAAU;;AAAO;;AAAyC;;AACzF;;AACA;;AACE;;AACA;;AAIA;;AAeF;;AACF;;AACA;;AACE;;AAAG;;AAAwB;;AAAa;;AAAO;;AAAsC;;AAA+C;;AAAQ;;AAC9I;;AACA;;AACE;;AACE;;AAAQ;AAAA;;AAAA;;AAAA;;AAAA,sDAAkC,OAAlC;AAAyC,SAAzC;;AACN;;AAAM;;AACN;;AACF;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;;AAAA,sDAAkC,OAAlC;AAAyC,SAAzC;;AACN;;AAAM;;AACN;;AACF;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;;AAAA,sDAAkC,KAAlC;AAAuC,SAAvC;;AACN;;AAAM;;AACN;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;;;;;;;AAvEY;;AAAA;;AAQL;;AAAA;;AACiD;;AAAA;;AAOvC;;AAAA;;AAAgC;;AAAA;;AAEK;;AAAA;;AAEU;;AAAA;;AAGX;;AAAA;;AACC;;AAAA;;AACE;;AAAA;;AAGxC;;AAAA;;AACE;;AAAA;;AAIH;;AAAA;;AAkB8E;;AAAA;;AAK3E;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;;;;;;;;;;;;AA9EtB;;AACE;;AAGE;;AAkFJ;;AACF;;;;;;;;AAtFS;;AAAA;;AAGE;;AAAA;;;;QDhIAa,a;AAEX,6BAAoBlE,WAApB,EACUhG,cADV,EAEUjC,YAFV,EAGUkC,KAHV,EAIUnC,MAJV,EAIwB;AAAA;;AAJJ,aAAAkI,WAAA,GAAAA,WAAA;AACV,aAAAhG,cAAA,GAAAA,cAAA;AACA,aAAAjC,YAAA,GAAAA,YAAA;AACA,aAAAkC,KAAA,GAAAA,KAAA;AACA,aAAAnC,MAAA,GAAAA,MAAA;AAKV,aAAAqM,KAAA,GAAgB,EAAhB;AACA,aAAAC,SAAA,GAAoB,EAApB;AAMA,aAAAC,WAAA,GAAc,EAAd;AACA,aAAAC,aAAA,GAAgB,KAAhB;AACA,aAAAC,UAAA,GAAa,CAAb;AAIA,aAAAC,OAAA,GAAU,KAAV;AACA,aAAAC,SAAA,GAAY,KAAZ;AAEA,aAAAC,SAAA,GAAY,KAAZ,CArBwB,CAEtB;;AACA,aAAKC,QAAL,GAAgB3K,cAAc,CAAC4K,OAAf,EAAhB;AACD;;;;mCAoBU;AACT,eAAK/G,MAAL,GAAcvB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyC7E,EAAvD;AACA,eAAKiN,UAAL;AAEA,eAAKC,kBAAL;AACD;;;6CAEoB;AAAA;;AACnB,eAAK9E,WAAL,CAAiB+E,gBAAjB,GACGjK,IADH,CACQ,8DADR,EAEG1C,SAFH,CAEa,UAAA4M,cAAc,EAAI;AAC3B,mBAAI,CAACjH,UAAL,GAAkBiH,cAAlB;AACA,mBAAI,CAACC,oBAAL,GAA4B,CAA5B;;AAF2B,uDAGJ,OAAI,CAAClH,UAHD;AAAA;;AAAA;AAG3B,kEAAwC;AAAA,oBAA7BsF,QAA6B;AACtC,uBAAI,CAAC4B,oBAAL,IAA6B5B,QAAQ,CAACC,KAAtC;AACD;AAL0B;AAAA;AAAA;AAAA;AAAA;AAM5B,WARH;AASD;;;iCAEQ7C,I,EAAc;AAAA;;AACrB,eAAK0D,KAAL,GAAa,EAAb;AACA,eAAKO,SAAL,GAAiB,KAAjB;AACA,eAAK1E,WAAL,CAAiBkF,eAAjB,CAAiCzE,IAAjC,EACGrI,SADH,CACa,UAAA+M,YAAY,EAAI;AACzB,iBAAK,IAAIjC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiC,YAAY,CAAC,OAAD,CAAZ,CAAsB/B,MAA1C,EAAkDF,CAAC,EAAnD,EAAuD;AACrD,kBAAIA,CAAC,KAAK,CAAV,EAAa;AAAE;AAAQ;;AACvB,kBAAMkC,CAAC,GAAGD,YAAY,CAAC,OAAD,CAAZ,CAAsBjC,CAAtB,EAAyBmC,UAAnC;AACAD,eAAC,CAACE,KAAF,GAAUH,YAAY,CAAC,OAAD,CAAZ,CAAsBjC,CAAtB,EAAyBtL,EAAnC;;AACA,qBAAI,CAACuM,KAAL,CAAWxL,IAAX,CAAgByM,CAAhB;AACD;;AACD,mBAAI,CAACV,SAAL,GAAiB,IAAjB;AACD,WATH;AAWD;;;iCAEezG,I,EAAY;AAAA;;AAC1B;AACA,eAAKsH,UAAL;AACAtH,cAAI,CAACJ,MAAL,GAAckG,MAAM,CAACC,QAAP,CAAgB,KAAKnG,MAArB,CAAd;AACAI,cAAI,CAACE,eAAL,GAAuB,KAAvB;AACA,eAAK6B,WAAL,CAAiBwF,IAAjB,CAAsBvH,IAAtB,EACGnD,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAACoE,UAAL;;AACA,mBAAI,CAAC9M,YAAL,CAAkB0N,OAAlB,CAA0B,yBAA1B,EAAqD;AAAEhN,kCAAoB,EAAE;AAAxB,aAArD;AACD,WANL,EAOI,UAAAyC,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYwK,YAApC;;AACA,mBAAI,CAAClB,OAAL,GAAe,KAAf;AACD,WAVL;AAWD;;;+BAEapG,M,EAAQuH,U,EAAY;AAAA;;AAChC,eAAK3F,WAAL,CAAiB4F,YAAjB,CAA8B,KAAK/H,MAAnC,EAA2CO,MAA3C,EAAmDuH,UAAnD,EACGvN,SADH,CACa,UAAAqI,IAAI,EAAI;AACjB,mBAAI,CAACoE,UAAL;;AACA,gBAAIc,UAAU,KAAK,WAAnB,EAAgC;AAC9B,qBAAI,CAAC5N,YAAL,CAAkB0N,OAAlB,CAA0B,6BAA1B,EAAyD;AAAEhN,oCAAoB,EAAE;AAAxB,eAAzD;AACD;AACF,WANH,EAOI,UAAAyC,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYwK,YAApC;;AACA,mBAAI,CAAClB,OAAL,GAAe,KAAf;AACD,WAVL;AAWD;;;4CAEmBnB,Q,EAAU;AAC5B,eAAKiB,aAAL,GAAqBjB,QAArB;AACD;;;0CAEiBrI,M,EAAQ;AACxB,eAAKqJ,WAAL,GAAmBrJ,MAAnB;AACD;;;+BAEaoD,M,EAAQ;AAAA;;AACpB,eAAK4B,WAAL,CAAiB3B,IAAjB,CAAsB,KAAKR,MAA3B,EAAmCO,MAAnC,EAA2C,CAA3C,EACGhG,SADH,CACa,UAAAqI,IAAI,EAAI;AACjB,mBAAI,CAACoE,UAAL;AACD,WAHH,EAII,UAAA3J,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYwK,YAApC;;AACA,mBAAI,CAAClB,OAAL,GAAe,KAAf;AACD,WAPL;AAQD;;;qCAIoB;AAAA;;AACnB,eAAKxE,WAAL,CAAiB6F,cAAjB,GACG/K,IADH,CACQ,8DADR,EAEG1C,SAFH,CAEa,UAAA0N,MAAM,EAAI;AACnB,mBAAI,CAAC1B,SAAL,GAAiB0B,MAAjB;AACA,mBAAI,CAACvB,UAAL,GAAkB,CAAlB;;AAFmB,wDAGAuB,MAHA;AAAA;;AAAA;AAGnB,qEAA2B;AAAA,oBAAhB7H,IAAgB;;AACzB,oBAAIA,IAAI,CAACjD,MAAL,KAAgB,YAApB,EAAkC;AAChC,yBAAI,CAACuJ,UAAL;AACD;AACF,eAPkB,CASnB;;AATmB;AAAA;AAAA;AAAA;AAAA;AAUpB,WAZH;AAaD;;;iCAEenG,M,EAAQ;AAAA;;AACtB,eAAK4B,WAAL,CAAiB3B,IAAjB,CAAsB,KAAKR,MAA3B,EAAmCO,MAAnC,EAA2C,CAAC,CAA5C,EACGhG,SADH,CACa,UAAAqI,IAAI,EAAI;AACjB,mBAAI,CAACoE,UAAL;AACD,WAHH,EAII,UAAA3J,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYwK,YAApC;;AACA,mBAAI,CAAClB,OAAL,GAAe,KAAf;AACD,WAPL;AAQD;;;wCAEepG,M,EAAQE,Q,EAAU;AAAA;;AAChC,eAAK0B,WAAL,CAAiB+F,eAAjB,CAAiC,KAAKlI,MAAtC,EAA8CO,MAA9C,EAAsDE,QAAtD,EACGlG,SADH,CACa,UAAAqI,IAAI,EAAI;AACjB,mBAAI,CAACoE,UAAL;AACD,WAHH,EAII,UAAA3J,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYwK,YAApC;;AACA,mBAAI,CAAClB,OAAL,GAAe,KAAf;AACD,WAPL;AAQD;;;qCAEY;AACXwB,kBAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmC,OAAnC,IAA8C,EAA9C;AACA,eAAKvB,SAAL,GAAiB,KAAjB;AACD;;;wCAEe3G,U,EAAY;AAAA,sDACHA,UADG;AAAA;;AAAA;AAC1B,mEAAmC;AAAA,kBAAxBsF,QAAwB;;AACjC,kBAAI,KAAKiB,aAAL,CAAmBR,QAAnB,OAAkCT,QAAQ,CAACS,QAAT,EAAtC,EAA2D;AACzD,uBAAO,IAAP;AACD,eAFD,MAGK;AACH,uBAAO,KAAP;AACD;AACF;AARyB;AAAA;AAAA;AAAA;AAAA;AAS3B;;;;;;;uBA1KUI,a,EAAa,uI,EAAA,6H,EAAA,2H,EAAA,+H,EAAA,uH;AAAA,K;;;YAAbA,a;AAAa,mC;AAAA,e;AAAA,a;AAAA,24K;AAAA;AAAA;;;ACf1B;;AACE;;AAUE;;AACE;;AACE;;AAAK;AAAA;;AAAA;;AAAA,mBAAS,IAAAgC,QAAA,WAAT;AAA8B,WAA9B;;AACH;;AAGA;;AAAsB;AAAA,mBAAS,IAAAX,UAAA,EAAT;AAAqB,WAArB;;AAEpB;;AAAyB;;AAAO;;AAClC;;AACA;;AAsDF;;AACF;;AACA;;AACA;;AACE;;AACI;;AAAM;AAAA,mBAAS,IAAAY,iBAAA,CAAkB,YAAlB,CAAT;AAAwC,WAAxC;;AACJ;;AAAiB;;AAAiC;;AAAmB;;AACvE;;AACJ;;AACF;;AACF;;AAEA;;AACE;;AACE;;AAAQ;AAAA,mBAAS,wBAAT;AAAkC,WAAlC;;AACN;;AAAU;;AAAiC;;AAAsB;;AACnE;;AACA;;AACE;;AAAG;AAAA,mBAAS,IAAAC,mBAAA,CAAoB,KAApB,CAAT;AAAmC,WAAnC;;AAA2D;;AAC5D;;AAAiC;;AAA6B;;AAAO;;AACvE;;AAKF;;AACF;;AACF;;AAEA;;AACE;;AACA;;AAAO;AAAA,mBAAS,IAAAD,iBAAA,CAAkB,EAAlB,CAAT;AAA8B,WAA9B;;AACL;;AAAoD;;AAAG;;AACzD;;AACA;;AACA;;AAAO;AAAA,mBAAS,IAAAA,iBAAA,CAAkB,WAAlB,CAAT;AAAuC,WAAvC;;AACL;;AAAoD;;AAAS;;AAC/D;;AACA;;AACA;;AAAO;AAAA,mBAAS,IAAAA,iBAAA,CAAkB,UAAlB,CAAT;AAAsC,WAAtC;;AACL;;AAAoD;;AAAQ;;AAC9D;;AACA;;AACA;;AAAO;AAAA,mBAAS,IAAAA,iBAAA,CAAkB,SAAlB,CAAT;AAAqC,WAArC;;AACL;;AAAiE;;AAAO;;AAC1E;;AACA;;AACA;;AAAO;AAAA,mBAAS,IAAAA,iBAAA,CAAkB,YAAlB,CAAT;AAAwC,WAAxC;;AACL;;AAAiE;;AAAU;;AAC7E;;AACA;;AACA;;AAAO;AAAA,mBAAS,IAAAA,iBAAA,CAAkB,WAAlB,CAAT;AAAuC,WAAvC;;AACL;;AAAoD;;AAAS;;AAC/D;;AACA;;AACA;;AAAO;AAAA,mBAAS,IAAAA,iBAAA,CAAkB,QAAlB,CAAT;AAAoC,WAApC;;AACL;;AAAoD;;AAAM;;AAC5D;;AACA;;AACA;;AAAO;AAAA,mBAAS,IAAAA,iBAAA,CAAkB,UAAlB,CAAT;AAAsC,WAAtC;;AACL;;AAAoD;;AAAQ;;AAC9D;;AACF;;AAEA;;AAwFJ;;AACA;;;;AA/Me;;AAAA;;AA4DiD;;AAAA;;AASX;;AAAA;;AAIR;;AAAA;;AAC7B;;AAAA;;AA4CP;;AAAA;;;;;;;;;sED5HIjC,a,EAAa;cALzB,uDAKyB;eALf;AACTpK,qBAAW,EAAE,qBADJ;AAETmK,mBAAS,EAAE,CAAC,WAAD;AAFF,S;AAKe,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEf1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;AC0GY;;AACE;;AAAG;;AAAQ;;AAAI;;AAAS;;AAA0E;;AAClG;;AAAG;;AAAQ;;AAAM;;AAAS;;AAAgC;;AAC5D;;;;;;AAF0B;;AAAA;;AACE;;AAAA;;;;;;AAiB5B;;AAAuC;;AAAmB;;;;;;AAD5D;;AACE;;AACF;;;;;;AADO;;AAAA;;;;;;AAKL;;;;;;;;AAQN;;AACE;;AACE;;AAA6B;;AAA2D;;AACxF;;AAA6B;;AAAgB;;AAC/C;;AACA;;AAA0D;;AAAmB;;AAC7E;;AACE;;AACE;;AAAQ;AAAA;;AAAA;;AAAA;;AAAA,0DAAwC,OAAxC;AAA+C,SAA/C;;AACA;;AAAM;;AACN;;AACR;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;;AAAA,0DAAwC,OAAxC;AAA+C,SAA/C;;AACA;;AAAM;;AACN;;AACR;;AACA;;AAAQ;AAAA;;AAAA;;AAAA;;AAAA,2DAAwC,KAAxC;AAA6C,SAA7C;;AACA;;AAAM;;AACN;;AACR;;AACF;;AACF;;AACF;;;;;;AApBiC;;AAAA;;AACA;;AAAA;;AAE2B;;AAAA;;AAIxC;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;;;;;;;;;;;;;;;;;;;AA3J1B;;AACE;;AACE;;AACE;;AAAkB;;AAAc;;AAChC;;AACA;;AAAM;;AAAiC;;AAAa;;AACtD;;AACA;;AAAM;;AACJ;;AACE;;AAGF;;AACA;;AACE;;AACE;;AAAQ;;AAAO;;AACf;;AAAqB;;AAAgB;;AACvC;;AACA;;AACE;;AAAQ;;AAAc;;AACtB;;AAAqB;;AAAsB;;AAC7C;;AAKA;;AACE;;AAAQ;;AAAU;;AAClB;;AAAqB;;AAAmB;;AAC1C;;AACF;;AACA;;AACE;;AACE;;AAAQ;;AAAK;;AACb;;AAAqB;;AAAkB;;AACzC;;AACA;;AACE;;AAAQ;;AAAc;;AACtB;;AAAqB;;AAAsB;;AAC7C;;AACA;;AACE;;AAAQ;;AAAQ;;AAChB;;AAAqB;;AAAiB;;AACxC;;AACA;;AACE;;AAAQ;;AAAmB;;AAC3B;;AAAqB;;AAErB;;AACF;;AACF;;AACA;;AACE;;AACE;;AAAQ;;AAAY;;AACpB;;AAA6C;;AAAoB;;AACrE;;AACF;;AACA;;AAGF;;AAIE;;AACE;;AAAK;AAAA;;AAAA;;AAAA,uCAAmC,IAAnC;AAAuC,wDAAwB,WAAxB;AAAmC,SAA1E;;AACH;;AACA;;AAA2B;;AAAS;;AACpC;;AACA;;AACF;;AACA;;AAAK;AAAA;;AAAA;;AAAA,uCAAmC,IAAnC;AAAyC,iBAAF,uCAAyB,UAAzB,CAAE;AAAiC,SAA1E;;AACH;;AACA;;AAA2B;;AAAQ;;AACnC;;AAA8B;;AAAQ;;AACtC;;AACA;;AACF;;AACA;;AAAK;AAAA;;AAAA;;AAAA,uCAAmC,IAAnC;AAAuC,wDAAwB,SAAxB;AAAiC,SAAxE;;AACH;;AACA;;AAA2B;;AAAO;;AAClC;;AACA;;AACF;;AACA;;AAAK;AAAA;;AAAA;;AAAA,uCAAmC,IAAnC;AAAuC,wDAAwB,YAAxB;AAAoC,SAA3E;;AACH;;AACA;;AAA2B;;AAAU;;AACrC;;AACA;;AACF;;AACA;;AAAK;AAAA;;AAAA;;AAAA,uCAAmC,IAAnC;AAAuC,wDAAwB,QAAxB;AAAgC,SAAvE;;AACH;;AACA;;AAA2B;;AAAM;;AACjC;;AACA;;AACF;;AAEA;;AACE;;AACE;;AACE;;AACE;;AAAmD;;AAAoE;;AACvH;;AACE;;AAAyB;;AAAO;;AAClC;;AACF;;AACA;;AAIA;;AACE;;AAAqE;;AAAK;;AAC5E;;AACF;;AACF;;AACF;;AACJ;;AACA;;AACE;;AACE;;AAAiC;AAAA;;AAAA;;AAAA;AAAA,iBAAwB,4BAAxB;AAAiD,SAAjD;;AAC/B;;AACE;;AAAqB;;AAAgB;;AACrC;;AAEA;;AAGF;;AACA;;AACE;;AACE;;AACA;;AACF;;AACF;;AACF;;AACF;;AAEA;;AACE;;AAuBF;;AACF;;AACF;;AACA;;;;;;AAjKwB;;AAAA;;AAEqB;;AAAA;;AAIhC;;AAAA;;AAOkB;;AAAA;;AAIA;;AAAA;;AAQA;;AAAA;;AAMA;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAIA;;AAAA;;AAQwB;;AAAA;;AAWiC;;AAAA;;AAMA;;AAAA;;AAOF;;AAAA;;AAMG;;AAAA;;AAMJ;;AAAA;;AAWpB;;AAAA;;AAKhD;;AAAA;;AAaL;;AAAA;;AAIK;;AAAA;;AACF;;AAAA;;AAKG;;AAAA;;AACA;;AAAA;;AAQR;;AAAA;;;;QD5HGoC,mB;AAaX,mCAAoBrG,WAApB,EACUF,cADV,EAEUwG,WAFV,EAGUrM,KAHV,EAIUnC,MAJV,EAKUkC,cALV,EAMUjC,YANV,EAMsC;AAAA;;AANlB,aAAAiI,WAAA,GAAAA,WAAA;AACV,aAAAF,cAAA,GAAAA,cAAA;AACA,aAAAwG,WAAA,GAAAA,WAAA;AACA,aAAArM,KAAA,GAAAA,KAAA;AACA,aAAAnC,MAAA,GAAAA,MAAA;AACA,aAAAkC,cAAA,GAAAA,cAAA;AACA,aAAAjC,YAAA,GAAAA,YAAA;AAlBV,aAAAqG,MAAA,GAAiB,IAAjB;AAGA,aAAAH,IAAA,GAAa,IAAb;AAEA,aAAAuG,OAAA,GAAU,KAAV;AAEA,aAAAC,SAAA,GAAY,KAAZ;AAGA,aAAA8B,SAAA,GAA0B,IAAI,4CAAJ,EAA1B;AASC;;;;mCAEU;AACT,eAAKC,YAAL,GAAoB,KAAKF,WAAL,CAAiBG,KAAjB,CAAuB;AACzCjI,mBAAO,EAAE,CAAC,EAAD,EAAK,0DAAWkI,QAAhB;AADgC,WAAvB,CAApB;AAIA,eAAKnM,SAAL,GAAiB,KAAKN,KAAL,CAAW0M,QAAX,CAAoBrM,WAApB,CAAgC,WAAhC,KAAgD,GAAjE;AACA,eAAKuD,MAAL,GAAcvB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyC7E,EAAvD;AAEA,eAAKwG,MAAL,GAAc,KAAK0B,cAAL,CAAoB6G,QAApB,CAA6BxJ,MAA7B,CAAoC,IAApC,CAAd;AACA,eAAKyJ,SAAL;AAED;;;oCAEW;AAAA;;AACV,eAAK5G,WAAL,CAAiB6G,OAAjB,CAAyB,KAAKzI,MAA9B,EAAsCtD,IAAtC,CACE,2DAAI,UAACmD,IAAD;AAAA,mBAAgB,OAAI,CAACA,IAAL,GAAYA,IAA5B;AAAA,WAAJ,EAAsC,KAAKuG,OAAL,GAAe,KAArD,CADF,EAEGpM,SAFH;AAGD;;;mCAIU;AAAA;;AAET,eAAKqM,SAAL,GAAiB,IAAjB,CAFS,CAIT;;AACA,eAAK1M,YAAL,CAAkBmB,KAAlB;;AAEA,cAAI,KAAKsN,YAAL,CAAkBM,OAAtB,EAA+B;AAC7B;AACD;;AAED,eAAKtC,OAAL,GAAe,IAAf;AACA,eAAKxE,WAAL,CAAiBxB,OAAjB,CAAyB,KAAKuI,CAAL,CAAOvI,OAAP,CAAelB,KAAxC,EAA+C,KAAKO,MAApD,EAA4D,KAAKI,IAAL,CAAUrG,EAAtE,EACGkD,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAACT,WAAL,CAAiB6G,OAAjB,CAAyB,OAAI,CAACzI,MAA9B,EAAsCtD,IAAtC,CACE,2DAAI,UAACmD,IAAD;AAAA,qBAAgB,OAAI,CAACA,IAAL,GAAYA,IAA5B;AAAA,aAAJ,EAAsC,OAAI,CAACuG,OAAL,GAAe,KAArD,CADF,EAEEpM,SAFF;;AAGA,mBAAI,CAACqM,SAAL,GAAiB,KAAjB;AACD,WARL,EASI,UAAAvJ,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYwK,YAApC;;AACA,mBAAI,CAAClB,OAAL,GAAe,KAAf;AACD,WAZL;AAaD;;;sCAEapG,M,EAAQpD,M,EAAQ;AAAA;;AAC5B,eAAKgF,WAAL,CAAiBgH,aAAjB,CAA+BhM,MAA/B,EAAuCoD,MAAvC,EACGhG,SADH,CAEI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAACwG,kBAAL,GAA0BxG,IAA1B;AACD,WAJL;AAMD;;;2CAEkBlC,S,EAAWD,Q,EAAU;AAAA;;AACtC,eAAK0B,WAAL,CAAiBkH,kBAAjB,CAAoC,KAAKrJ,MAAzC,EAAiDU,SAAjD,EAA4DD,QAA5D,EACGlG,SADH,CACa,UAAAqI,IAAI,EAAI;AACjB,mBAAI,CAACmG,SAAL;AACD,WAHH,EAII,UAAA1L,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYwK,YAApC;;AACA,mBAAI,CAAClB,OAAL,GAAe,KAAf;AACD,WAPL;AAQD;;;4BA/CO;AAAE,iBAAO,KAAKgC,YAAL,CAAkBW,QAAzB;AAAoC;;;;;;;uBAzCnCd,mB,EAAmB,uI,EAAA,+H,EAAA,2H,EAAA,+H,EAAA,uH,EAAA,6H,EAAA,2H;AAAA,K;;;YAAnBA,mB;AAAmB,sC;AAAA,c;AAAA,a;AAAA,2lE;AAAA;AAAA;ACdhC;;;;AAAK;;;;;;;;;sEDcQA,mB,EAAmB;cAL/B,uDAK+B;eALrB;AACTxM,kBAAQ,EAAE,iBADD;AAETC,qBAAW,EAAE,8BAFJ;AAGTmK,mBAAS,EAAE,CAAC,8BAAD;AAHF,S;AAKqB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEdhC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACCE;;AAAuB;;AAAS;;;;;;AAQxB;;AAAyC;;AAAsB;;;;;;AADjE;;AACE;;AACF;;;;;;AADO;;AAAA;;;;;;AAOL;;AAAwC;;AAAqB;;;;;;AAD/D;;AACE;;AACF;;;;;;AADO;;AAAA;;;;;;AAUL;;AAAmC;;AAAe;;;;;;AADpD;;AACE;;AACF;;;;;;AADO;;AAAA;;;;;;AAOL;;AAAwC;;AAAiB;;;;;;AAD3D;;AACE;;AACF;;;;;;AADO;;AAAA;;;;;;AAUL;;AAAqC;;AAAiB;;;;;;AADxD;;AACE;;AACF;;;;;;AADO;;AAAA;;;;;;AAMP;;;;;;;;;;QDpCKmD,oB;AASX,oCACUd,WADV,EAEUrM,KAFV,EAGUnC,MAHV,EAIUkC,cAJV,EAKUjC,YALV,EAKoC;AAAA;;AAJ1B,aAAAuO,WAAA,GAAAA,WAAA;AACA,aAAArM,KAAA,GAAAA,KAAA;AACA,aAAAnC,MAAA,GAAAA,MAAA;AACA,aAAAkC,cAAA,GAAAA,cAAA;AACA,aAAAjC,YAAA,GAAAA,YAAA;AAVV,aAAAyM,OAAA,GAAU,KAAV;AACA,aAAAC,SAAA,GAAY,KAAZ;AAUI;;;;mCAEO;AAAA;;AACT,eAAKE,QAAL,GAAgB,KAAK1K,KAAL,CAAW0M,QAAX,CAAoBxJ,MAApB,CAA2B,MAA3B,CAAhB;AACA,eAAKvF,EAAL,GAAU,KAAKqC,KAAL,CAAW0M,QAAX,CAAoBxJ,MAApB,CAA2B,IAA3B,CAAV;AACA,eAAKkK,SAAL,GAAiB,CAAC,KAAKzP,EAAvB;AACA,eAAKiG,MAAL,GAAc,KAAK7D,cAAL,CAAoB6D,MAAlC;AAEA,eAAKyJ,IAAL,GAAY,KAAKhB,WAAL,CAAiBG,KAAjB,CAAuB;AACjCc,qBAAS,EAAE,CAAC,EAAD,EAAK,0DAAWb,QAAhB,CADsB;AAEjCc,oBAAQ,EAAE,CAAC,EAAD,EAAK,0DAAWd,QAAhB,CAFuB;AAGjC/J,iBAAK,EAAE,CAAC,EAAD,EAAK,0DAAWA,KAAhB,CAH0B;AAIjC8K,eAAG,EAAE,CAAC,EAAD,EAAK,0DAAWf,QAAhB,CAJ4B;AAKjCgB,iBAAK,EAAE,CAAC,EAAD,EAAK,0DAAWhB,QAAhB,CAL0B;AAMjC1J,gBAAI,EAAE,CAAC,EAAD,EAAK,0DAAW0J,QAAhB;AAN2B,WAAvB,CAAZ;;AASA,cAAI,CAAC,KAAKW,SAAV,EAAqB;AACnB,iBAAKrN,cAAL,CAAoB6M,OAApB,CAA4B,KAAKjP,EAAjC,EACGkD,IADH,CACQ,8DADR,EAEG1C,SAFH,CAEa,UAAAI,CAAC,EAAI;AACd,qBAAI,CAACuO,CAAL,CAAOQ,SAAP,CAAiBI,QAAjB,CAA0BnP,CAAC,CAAC+O,SAA5B;;AACA,qBAAI,CAACR,CAAL,CAAOS,QAAP,CAAgBG,QAAhB,CAAyBnP,CAAC,CAACgP,QAA3B;;AACA,qBAAI,CAACT,CAAL,CAAOU,GAAP,CAAWE,QAAX,CAAoBnP,CAAC,CAACiP,GAAtB;;AACA,qBAAI,CAACV,CAAL,CAAOW,KAAP,CAAaC,QAAb,CAAsBnP,CAAC,CAACkP,KAAxB;;AACA,qBAAI,CAACX,CAAL,CAAOpK,KAAP,CAAagL,QAAb,CAAsBnP,CAAC,CAACmE,KAAxB;;AACA,qBAAI,CAACoK,CAAL,CAAO/J,IAAP,CAAY2K,QAAZ,CAAqBnP,CAAC,CAACwE,IAAvB;AACD,aATH;AAUD;AACF,S,CAED;;;;mCAGW;AACT,eAAKyH,SAAL,GAAiB,IAAjB,CADS,CAET;;AACA,eAAK1M,YAAL,CAAkBmB,KAAlB,GAHS,CAIT;;AACA,cAAI,KAAKoO,IAAL,CAAUR,OAAd,EAAuB;AACrB;AACD;;AAED,eAAKtC,OAAL,GAAe,IAAf;AAEA,eAAKoD,UAAL;AACD;;;qCAEoB;AAAA;;AACnB,eAAK5N,cAAL,CAAoB6N,mBAApB,CAAwC,KAAKjQ,EAA7C,EAAiD,KAAK0P,IAAL,CAAUhK,KAA3D,EACGxC,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAAC1I,YAAL,CAAkB0N,OAAlB,CAA0B,mBAA1B,EAA+C;AAAEhN,kCAAoB,EAAE;AAAxB,aAA/C;;AACA,mBAAI,CAACX,MAAL,CAAYuC,QAAZ,CAAqB,CAAC,sBAAsB,OAAI,CAACzC,EAA5B,EAAgC;AAAEkQ,wBAAU,EAAE,OAAI,CAAClQ;AAAnB,aAAhC,CAArB;AACD,WANL,EAOI,UAAAsD,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYwK,YAApC;;AACA,mBAAI,CAAClB,OAAL,GAAe,KAAf;AACD,WAVL;AAWD;;;4BA5BO;AAAE,iBAAO,KAAK8C,IAAL,CAAUH,QAAjB;AAA4B;;;;;;;uBA/C3BC,oB,EAAoB,2H,EAAA,+H,EAAA,uH,EAAA,6H,EAAA,2H;AAAA,K;;;YAApBA,oB;AAAoB,mC;AAAA,e;AAAA,c;AAAA,25B;AAAA;AAAA;ACbjC;;AACE;;AACA;;AAA0B;AAAA,mBAAY,IAAAW,QAAA,EAAZ;AAAsB,WAAtB;;AACxB;;AACE;;AACE;;AAAuB;;AAAU;;AACjC;;AAEA;;AAGF;;AACA;;AACE;;AAAsB;;AAAS;;AAC/B;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAiB;;AAAG;;AACpB;;AACA;;AAGF;;AACA;;AACE;;AAAmB;;AAAK;;AACxB;;AACA;;AAGF;;AACF;;AAEA;;AACE;;AACE;;AAAmB;;AAAK;;AACxB;;AACA;;AAGF;;AACF;;AACA;;AACE;;AACE;;AACA;;AACF;;AACA;;AAAqD;;AAAM;;AAC7D;;AACF;;AAEF;;;;AAvDM;;AAAA;;AACG;;AAAA;;AAKM;;AAAA;;AACF;;AAAA;;AAM8D;;AAAA;;AAC9D;;AAAA;;AASyD;;AAAA;;AACzD;;AAAA;;AAM2D;;AAAA;;AAC3D;;AAAA;;AAS2D;;AAAA;;AAC3D;;AAAA;;AAMC;;AAAA;;AACA;;AAAA;;AAGL;;AAAA;;;;;;;;;sEDvCIX,oB,EAAoB;cAJhC,uDAIgC;eAJtB;AACTtN,qBAAW,EAAE,6BADJ;AAETmK,mBAAS,EAAE,CAAC,6BAAD;AAFF,S;AAIsB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEbjC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;;;ACuCQ;;AACE;;AAAI;;AAAqD;;AACzD;;AAAI;;AAAY;;AAAsB;;AAAI;;AAC1C;;AAAI;;AAAsB;;AAC1B;;AAAI;;AAAQ;AAAA;;AAAA;;AAAA;;AAAA,uEAAuD,QAAvD;AAA+D,SAA/D;;AACa;;AAAK;;AAC9B;;AACF;;;;;;AANM;;AAAA;;AACY;;AAAA;;AACZ;;AAAA;;;;;;AAfZ;;AACE;;AAAI;;AAAuB;;AAC3B;;AACE;;AACE;;AACE;;AAAgB;;AAAS;;AACzB;;AAAgB;;AAAU;;AAC1B;;AAAgB;;AAAI;;AACpB;;AAAgB;;AAAM;;AACxB;;AACF;;AACA;;AACE;;AAQF;;AACF;;AACF;;;;;;AApBmB;;AAAA,qGAA4B,WAA5B,EAA4B,qBAA5B;;AAUC;;AAAA;;;;;;AAyBd;;AACE;;AAAI;;AAAgC;;AAAmB;;AAAI;;AAC3D;;AAAI;;AAAqB;;AACzB;;AAAI;;AAAwB;;AAC5B;;AAAI;;AAA2C;;AAC/C;;AAAI;;AAAoB;;AACxB;;AAAI;;AAAmB;;AACzB;;;;;;AANS;;AAAA;;AAA6B;;AAAA;;AAChC;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AApBZ;;AACE;;AAAI;;AAA6B;;AACjC;;AACE;;AACE;;AACE;;AAAgB;;AAAK;;AACrB;;AAAgB;;AAAO;;AACvB;;AAAgB;;AAAU;;AAC1B;;AAAgB;;AAAK;;AACrB;;AAAgB;;AAAM;;AACtB;;AAAgB;;AAAI;;AACtB;;AACF;;AACA;;AACE;;AAQF;;AACF;;AACF;;;;;;AAtBmB;;AAAA,oGAA2B,WAA3B,EAA2B,oBAA3B;;AAYT;;AAAA;;;;QDnDC+D,gB;AAaX,gCACUlI,cADV,EAEUC,WAFV,EAGUC,WAHV,EAIUjI,YAJV,EAIoC;AAAA;;AAH1B,aAAA+H,cAAA,GAAAA,cAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACA,aAAAC,WAAA,GAAAA,WAAA;AACA,aAAAjI,YAAA,GAAAA,YAAA;AAhBV,aAAAkQ,cAAA,GAAsC,EAAtC;AACA,aAAAC,aAAA,GAAqC,EAArC;AACA,aAAAC,cAAA,GAA+B,IAAI,4CAAJ,EAA/B;AACA,aAAAC,aAAA,GAA8B,IAAI,4CAAJ,EAA9B;AACA,aAAAvK,MAAA,GAAiB,IAAjB;AACA,aAAA1D,IAAA,GAAa,IAAb;AAGA,aAAAqK,OAAA,GAAU,KAAV;AACA,aAAAC,SAAA,GAAY,KAAZ;AASC;;;;mCAEO;AAAA;;AACN,eAAKwD,cAAL,GAAsB;AACpBI,sBAAU,EAAE,cADQ;AAEpBC,sBAAU,EAAE;AAFQ,WAAtB;AAIA,eAAKJ,aAAL,GAAqB;AACnBG,sBAAU,EAAE,cADO;AAEnBC,sBAAU,EAAE;AAFO,WAArB;AAIA,eAAKzK,MAAL,GAAc,KAAKiC,cAAL,CAAoB6G,QAApB,CAA6BxJ,MAA7B,CAAoCvF,EAAlD;AACA,eAAKmI,WAAL,CAAiB8G,OAAjB,CAAyB,KAAKhJ,MAA9B,EAAsC/C,IAAtC,CACE,2DAAI,UAACX,IAAD;AAAA,mBAAgB,OAAI,CAACA,IAAL,GAAYA,IAA5B;AAAA,WAAJ,CADF,EAEE/B,SAFF;AAIA,eAAKmQ,gCAAL;AACA,eAAKC,gCAAL;AACD;;;+BAEa3K,M,EAAQO,M,EAAQuH,U,EAAY;AAAA;;AACxC,eAAK3F,WAAL,CAAiB4F,YAAjB,CAA8B/H,MAA9B,EAAsCO,MAAtC,EAA8CuH,UAA9C,EACG7K,IADH,CACQ,8DADR,EAEG1C,SAFH,CAEa,UAAAqI,IAAI,EAAI;AACjB,mBAAI,CAAC+H,gCAAL;;AACA,gBAAI7C,UAAU,KAAK,WAAnB,EAAgC;AAC9B,qBAAI,CAAC5N,YAAL,CAAkB0N,OAAlB,CAA0B,6BAA1B,EAAyD;AAAEhN,oCAAoB,EAAE;AAAxB,eAAzD;AACD;AAEF,WARH,EASI,UAAAyC,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYwK,YAApC;;AACA,mBAAI,CAAClB,OAAL,GAAe,KAAf;AACD,WAZL;AAaD;;;2DAEkC;AAAA;;AACjC,eAAKxE,WAAL,CAAiByI,qBAAjB,CAAuC,WAAvC,EAAoDrQ,SAApD,CACE,UAAA+M,YAAY,EAAI;AACd,mBAAI,CAACuD,UAAL,GAAkBvD,YAAlB;;AACA,mBAAI,CAACgD,cAAL,CAAoBvN,IAApB;AACD,WAJH;AAMD;;;2DAEkC;AAAA;;AACjC,eAAKoF,WAAL,CAAiByI,qBAAjB,CAAuC,WAAvC,EAAoDrQ,SAApD,CACE,UAAA+M,YAAY,EAAI;AACd,mBAAI,CAACwD,mBAAL,GAA2BxD,YAA3B;;AACA,mBAAI,CAACiD,aAAL,CAAmBxN,IAAnB;AACD,WAJH;AAMD;;;0CAEiBiD,M,EAAQ;AACxB,iBAAO,KAAK6K,UAAL,CAAgBnQ,MAAhB,CAAuB,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAAC2B,IAAF,CAAOvC,EAAP,KAAciG,MAAlB;AAAA,WAAxB,CAAP;AACD;;;;;;;uBA3EUmK,gB,EAAgB,+H,EAAA,6H,EAAA,uI,EAAA,2H;AAAA,K;;;YAAhBA,gB;AAAgB,kC;AAAA,e;AAAA,c;AAAA,8zB;AAAA;AAAA;ACb7B;;AACE;;AACE;;AACE;;AAGF;;AACA;;AACE;;AACE;;AAAY;;AAAQ;;AAAY;;AAAU;;AAAkB;;AAC5D;;AAAY;;AAAQ;;AAAW;;AAAU;;AAAiB;;AAC5D;;AACA;;AACE;;AAAY;;AAAQ;;AAAK;;AAAU;;AAAY;;AAC/C;;AAAY;;AAAQ;;AAAO;;AAAU;;AAAc;;AACrD;;AACA;;AACE;;AAAY;;AAAQ;;AAAO;;AAAU;;AAAc;;AACnD;;AAAY;;AAAQ;;AAAM;;AAAU;;AAAa;;AACnD;;AACF;;AACA;;AACE;;AAAyD;;AAAe;;AACxE;;AAC4B;;AAAY;;AAC1C;;AACF;;AACA;;AAuBA;;AAyBF;;;;AAlEkD;;AAAA;;AACD;;AAAA;;AAGN;;AAAA;;AACE;;AAAA;;AAGA;;AAAA;;AACD;;AAAA;;AAId;;AAAA;;AACG;;AAAA;;AAI1B;;AAAA;;AAuBA;;AAAA;;;;;;;;;sEDrCMA,gB,EAAgB;cAL5B,uDAK4B;eALlB;AACTnO,kBAAQ,EAAE,aADD;AAETC,qBAAW,EAAE,0BAFJ;AAGTmK,mBAAS,EAAE,CAAC,0BAAD;AAHF,S;AAKkB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEb7B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACSY;;AAA2C;;AAAsB;;;;;;AADnE;;AACE;;AACF;;;;;;AADO;;AAAA;;;;;;AAOL;;AAA+C;;AAAyB;;;;;;AAD1E;;AACE;;AACF;;;;;;AADO;;AAAA;;;;;;AAKL;;;;;;;;;;QDdC2E,uB;AAQX,uCACUtC,WADV,EAEUrM,KAFV,EAGUnC,MAHV,EAIUkC,cAJV,EAKUjC,YALV,EAKoC;AAAA;;AAJ1B,aAAAuO,WAAA,GAAAA,WAAA;AACA,aAAArM,KAAA,GAAAA,KAAA;AACA,aAAAnC,MAAA,GAAAA,MAAA;AACA,aAAAkC,cAAA,GAAAA,cAAA;AACA,aAAAjC,YAAA,GAAAA,YAAA;AATV,aAAAyM,OAAA,GAAU,KAAV;AACA,aAAAC,SAAA,GAAY,KAAZ;AAUC;;;;mCAEU;AACT,eAAK7M,EAAL,GAAU,KAAKqC,KAAL,CAAW0M,QAAX,CAAoBxJ,MAApB,CAA2B,IAA3B,CAAV,CADS,CAET;;AAEA,eAAKmK,IAAL,GAAY,KAAKhB,WAAL,CAAiBG,KAAjB,CAAuB;AACjCpJ,uBAAW,EAAE,CAAC,EAAD,EAAK,0DAAWqJ,QAAhB,CADoB;AAEjCmC,2BAAe,EAAE,CAAC,EAAD,EAAK,0DAAWnC,QAAhB;AAFgB,WAAvB,EAGT;AAACoC,qBAAS,EAAE,KAAKC,iBAAL,CAAuB,aAAvB,EAAsC,iBAAtC;AAAZ,WAHS,CAAZ,CAJS,CAST;;AACA,eAAKxO,SAAL,GAAiB,KAAKN,KAAL,CAAW0M,QAAX,CAAoBrM,WAApB,CAAgCC,SAAhC,IAA6C,GAA9D;AACD;;;mCAIO;AACN,eAAKkK,SAAL,GAAiB,IAAjB,CADM,CAGN;;AACA,eAAK1M,YAAL,CAAkBmB,KAAlB,GAJM,CAMN;;AACA,cAAI,KAAKoO,IAAL,CAAUR,OAAd,EAAuB;AACrB;AACD;;AAED,eAAKtC,OAAL,GAAe,IAAf;AACA,eAAKwE,cAAL;AACD;;;yCAEqB;AAAA;;AACpB,eAAKhP,cAAL,CAAoBiP,UAApB,CAA+B,KAAKrR,EAApC,EAAwC,KAAKmP,CAAL,CAAO1J,WAAP,CAAmBC,KAA3D,EACGxC,IADH,CACQ,8DADR,EAEG1C,SAFH,CAGI,UAAAqI,IAAI,EAAI;AACN,mBAAI,CAAC1I,YAAL,CAAkB0N,OAAlB,CAA0B,mBAA1B,EAA+C;AAAEhN,kCAAoB,EAAE;AAAxB,aAA/C;;AACA,mBAAI,CAACX,MAAL,CAAYuC,QAAZ,CAAqB,CAAC,sBAAsB,OAAI,CAACzC,EAA5B,EAAgC;AAAEkQ,wBAAU,EAAE,OAAI,CAAClQ;AAAnB,aAAhC,CAArB;AACD,WANL,EAOI,UAAAsD,KAAK,EAAI;AACP,mBAAI,CAACnD,YAAL,CAAkBmD,KAAlB,CAAwBA,KAAK,CAACA,KAAN,CAAYA,KAAZ,CAAxB;;AACA,mBAAI,CAACsJ,OAAL,GAAe,KAAf;AACD,WAVL;AAWD;;;0CAEiBnH,W,EAAqBwL,e,EAAuB;AAC5D,iBAAO,UAACpC,KAAD,EAAsB;AAC3B,gBAAMyC,aAAa,GAAGzC,KAAK,CAACU,QAAN,CAAe9J,WAAf,CAAtB;AACA,gBAAM8L,yBAAyB,GAAG1C,KAAK,CAACU,QAAN,CAAe0B,eAAf,CAAlC;;AACA,gBAAIK,aAAa,CAAC5L,KAAd,KAAwB6L,yBAAyB,CAAC7L,KAAtD,EAA6D;AAC3D,qBAAO6L,yBAAyB,CAACC,SAA1B,CAAoC;AAACC,6BAAa,EAAE;AAAhB,eAApC,CAAP;AACD,aAFD,MAGK;AACH,qBAAOF,yBAAyB,CAACC,SAA1B,CAAoC,IAApC,CAAP;AACD;AACF,WATD;AAUD;;;4BA1CO;AAAE,iBAAO,KAAK9B,IAAL,CAAUH,QAAjB;AAA4B;;;;;;;uBA9B3ByB,uB,EAAuB,2H,EAAA,+H,EAAA,uH,EAAA,6H,EAAA,2H;AAAA,K;;;YAAvBA,uB;AAAuB,mC;AAAA,e;AAAA,c;AAAA,gnB;AAAA;AAAA;ACPpC;;AACE;;AAAwB;;AAAe;;AACvC;;AACE;;AACE;;AAAyB;AAAA,mBAAY,IAAAb,QAAA,EAAZ;AAAsB,WAAtB;;AACvB;;AACE;;AAAyB;;AAAY;;AACrC;;AACA;;AAGF;;AACA;;AACE;;AAA6B;;AAAoB;;AACjD;;AACA;;AAGF;;AACA;;AACE;;AACE;;AACA;;AACF;;AACF;;AACF;;AACF;;AACF;;AACF;;;;AAxBY;;AAAA;;AAGwE;;AAAA;;AACrE;;AAAA;;AAMyE;;AAAA;;AACzE;;AAAA;;AAKG;;AAAA;;AACA;;AAAA;;;;;;;;;sEDdLa,uB,EAAuB;cADnC,uDACmC;eADzB;AAAE9O,qBAAW,EAAE;AAAf,S;AACyB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEPpC;AAAA;;;AAAA;AAAA;AAAA,O,CAAA;AACA;AACA;;;AAEO,QAAMwP,WAAW,GAAG;AACvBC,gBAAU,EAAE,KADW;AAEvB9N,YAAM,EAAE;AAFe,KAApB;AAKP;;;;;;;AAOA;;;;;;;;;;;;;;;;;AChBA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAI,sEAAY8N,UAAhB,EAA4B;AACxB;AACH;;AAED,gFAAyBC,eAAzB,CAAyC,yDAAzC,WACW,UAAAzO,GAAG;AAAA,aAAI0O,OAAO,CAACvO,KAAR,CAAcH,GAAd,CAAJ;AAAA,KADd","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit, OnDestroy, Input } from '@angular/core';\r\nimport { Router, NavigationStart } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { Alert, AlertType } from '@app/_models';\r\nimport { AlertService } from '@app/_services';\r\n\r\n@Component({\r\n    selector: 'alert',\r\n    templateUrl: 'alert.component.html' })\r\n\r\nexport class AlertComponent implements OnInit, OnDestroy {\r\n    @Input() id = 'default-alert';\r\n    @Input() fade = true;\r\n\r\n    alerts: Alert[] = [];\r\n    alertSubscription: Subscription;\r\n    routeSubscription: Subscription;\r\n\r\n    constructor(private router: Router, private alertService: AlertService) { }\r\n\r\n    ngOnInit() {\r\n        // subscribe to new alert notifications\r\n        this.alertSubscription = this.alertService.onAlert(this.id)\r\n            .subscribe(alert => {\r\n                // clear alerts when an empty alert is received\r\n                if (!alert.message) {\r\n                    // filter out alerts without 'keepAfterRouteChange' flag\r\n                    this.alerts = this.alerts.filter(x => x.keepAfterRouteChange);\r\n\r\n                    // remove 'keepAfterRouteChange' flag on the rest\r\n                    this.alerts.forEach(x => delete x.keepAfterRouteChange);\r\n                    return;\r\n                }\r\n\r\n                // add alert to array\r\n                this.alerts.push(alert);\r\n\r\n                // auto close alert if required\r\n                if (alert.autoClose) {\r\n                    setTimeout(() => this.removeAlert(alert), 3000);\r\n                }\r\n           });\r\n\r\n        // clear alerts on location change\r\n        this.routeSubscription = this.router.events.subscribe(event => {\r\n            if (event instanceof NavigationStart) {\r\n                this.alertService.clear(this.id);\r\n            }\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        // unsubscribe to avoid memory leaks\r\n        this.alertSubscription.unsubscribe();\r\n        this.routeSubscription.unsubscribe();\r\n    }\r\n\r\n    removeAlert(alert: Alert) {\r\n        // check if already removed to prevent error on auto close\r\n        if (!this.alerts.includes(alert)) return;\r\n\r\n        if (this.fade) {\r\n            // fade out alert\r\n            this.alerts.find(x => x === alert).fade = true;\r\n\r\n            // remove alert after faded out\r\n            setTimeout(() => {\r\n                this.alerts = this.alerts.filter(x => x !== alert);\r\n            }, 10000);\r\n        } else {\r\n            // remove alert\r\n            this.alerts = this.alerts.filter(x => x !== alert);\r\n        }\r\n    }\r\n\r\n    cssClass(alert: Alert) {\r\n        if (!alert) return;\r\n\r\n        const classes = ['alert', 'alert-dismissable', 'mt-4', 'container'];\r\n\r\n        const alertTypeClass = {\r\n            [AlertType.Success]: 'alert alert-success',\r\n            [AlertType.Error]: 'alert alert-danger',\r\n            [AlertType.Info]: 'alert alert-info',\r\n            [AlertType.Warning]: 'alert alert-warning'\r\n        }\r\n\r\n        classes.push(alertTypeClass[alert.type]);\r\n\r\n        if (alert.fade) {\r\n            classes.push('fade');\r\n        }\r\n\r\n        return classes.join(' ');\r\n    }\r\n}\r\n","<div class=\"alert-container\">\r\n<div *ngFor=\"let alert of alerts\" class=\"alert {{cssClass(alert)}}\" style=\"z-index: 99999; \">\r\n    <a class=\"close\" (click)=\"removeAlert(alert)\">&times;</a>\r\n    <span [innerHTML]=\"alert.message\"></span>\r\n</div>\r\n</div>\r\n\r\n<style>\r\n  .alert {\r\n    /*width: 40%;*/\r\n  }\r\n\r\n  .alert-container {\r\n    position: fixed;\r\n    z-index: 1000;\r\n    width: 30%;\r\n    right: 0;\r\n    top: -22px;\r\n\r\n  }\r\n</style>\r\n","export * from './alert.component';\r\n","import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { AccountService } from '@app/_services';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthGuard implements CanActivate {\r\n    constructor(\r\n        private router: Router,\r\n        private accountService: AccountService\r\n    ) {}\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        const user = this.accountService.userValue;\r\n        if (user) {\r\n            // authorised so return true\r\n            return true;\r\n        }\r\n\r\n        // not logged in so redirect to login page with the return url\r\n        this.router.navigate(['/account/login'], { queryParams: { returnUrl: state.url }});\r\n        return false;\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nimport { AccountService } from '@app/_services';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    constructor(private accountService: AccountService) {}\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(request).pipe(catchError(err => {\r\n            if (err.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                this.accountService.logout();\r\n            }\r\n            \r\n            const error = err.error.message || err.statusText;\r\n            return throwError(error);\r\n        }))\r\n    }\r\n}","export * from './auth.guard';\r\nexport * from './error.interceptor';\r\nexport * from './jwt.interceptor';\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from '@environments/environment';\r\nimport { AccountService } from '@app/_services';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n    constructor(private accountService: AccountService) { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        // add auth header with jwt if user is logged in and request is to the api url\r\n        const user = this.accountService.userValue;\r\n        const isLoggedIn = user && user.token;\r\n        const isApiUrl = request.url.startsWith(environment.apiUrl);\r\n        if (isLoggedIn && isApiUrl) {\r\n            request = request.clone({\r\n                setHeaders: {\r\n                    Authorization: `${user.token}`\r\n                }\r\n            });\r\n        }\r\n\r\n        return next.handle(request);\r\n    }\r\n}","export class Alert {\r\n    id: string;\r\n    type: AlertType;\r\n    message: string;\r\n    autoClose: boolean;\r\n    keepAfterRouteChange: boolean;\r\n    fade: boolean;\r\n\r\n    constructor(init?:Partial<Alert>) {\r\n        this.autoClose = true;\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n\r\nexport enum AlertType {\r\n    Success,\r\n    Error,\r\n    Info,\r\n    Warning\r\n}\r\n","export * from './alert';\r\nexport * from './user';\r\n","export class User {\r\n    id: string;\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    age: number;\r\n    password: string;\r\n    role: string;\r\n    phone: string;\r\n    token: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { environment } from '@environments/environment';\r\nimport { User } from '@app/_models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AccountService {\r\n  private userSubject: BehaviorSubject<User>;\r\n  public user: Observable<User>;\r\n  public userId: number;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private http: HttpClient\r\n  ) {\r\n    // this.userId = JSON.parse(localStorage.getItem('user')).id;\r\n    this.userSubject = new BehaviorSubject<User>(JSON.parse(localStorage.getItem('user')));\r\n    this.user = this.userSubject.asObservable();\r\n  }\r\n\r\n  public get userValue(): User {\r\n    return this.userSubject.value;\r\n  }\r\n\r\n  login(email, password) {\r\n    return this.http.post<User>(`${environment.apiUrl}/auth/login`, { 'email': email, 'password': password })\r\n      .pipe(map(user => {\r\n        // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n        this.userSubject.next(user);\r\n        return user;\r\n      }));\r\n  }\r\n\r\n  getRole() {\r\n    return JSON.parse(localStorage.getItem('user')).role;\r\n  }\r\n\r\n  logout() {\r\n    // remove user from  local storage and set current user to null\r\n    localStorage.removeItem('user');\r\n    this.userSubject.next(null);\r\n    this.router.navigate(['/account/login']);\r\n  }\r\n\r\n  register(user: User) {\r\n    user.role = 'USER';\r\n    return this.http.post(`${environment.apiUrl}/users/register`, user);\r\n  }\r\n\r\n  getAll() {\r\n    return this.http.get<User[]>(`${environment.apiUrl}/users`);\r\n  }\r\n\r\n  getById(id: string) {\r\n    return this.http.get<User>(`${environment.apiUrl}/users/${id}`);\r\n  }\r\n\r\n  update(id, params) {\r\n    return this.http.put(`${environment.apiUrl}/users/${id}`, params)\r\n      .pipe(map(x => {\r\n        // update stored user if the logged in user updated their own record\r\n        if (id == this.userValue.id) {\r\n          // update local storage\r\n          const user = { ...this.userValue, ...params };\r\n          localStorage.setItem('user', JSON.stringify(user));\r\n\r\n          // publish updated user to subscribers\r\n          this.userSubject.next(user);\r\n        }\r\n        return x;\r\n      }));\r\n  }\r\n\r\n  editUserFromProfile(id, params) {\r\n    return this.http.put(`${environment.apiUrl}/users/${id}`, params)\r\n      .pipe(map(x => {\r\n        // update stored user if the logged in user updated their own record\r\n        if (id === this.userValue.id) {\r\n          // update local storage\r\n          const user = { ...this.userValue, ...params };\r\n          localStorage.setItem('user', JSON.stringify(user));\r\n\r\n          // publish updated user to subscribers\r\n          this.userSubject.next(user);\r\n        }\r\n        return x;\r\n      }));\r\n  }\r\n\r\n  updatePass(id, newPassword) {\r\n    return this.http.put(`${environment.apiUrl}/users/password/${id}`, { 'newPassword': newPassword })\r\n      .pipe(map(x => {\r\n        // update stored user if the logged in user updated their own record\r\n        if (id === this.userValue.id) {\r\n          // update local storage\r\n          const user = { ...this.userValue, ...newPassword };\r\n          localStorage.setItem('user', JSON.stringify(user));\r\n\r\n          // publish updated user to subscribers\r\n          this.userSubject.next(user);\r\n        }\r\n        return x;\r\n      }));\r\n  }\r\n\r\n  delete(id: string) {\r\n    return this.http.delete(`${environment.apiUrl}/users/${id}`)\r\n      .pipe(map(x => {\r\n        // auto logout if the logged in user deleted their own record\r\n        if (id == this.userValue.id) {\r\n          this.logout();\r\n        }\r\n        return x;\r\n      }));\r\n  }\r\n\r\n  sendEmail(id: string, type: string) {\r\n    return this.http.post(`${environment.apiUrl}/emails`, { 'userId': id, 'emailType': type }).subscribe();\r\n  }\r\n\r\n  getActuatorInfo() {\r\n    return this.http.get(`${environment.apiUrl}/actuator/info`);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\nimport { Alert, AlertType } from '@app/_models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AlertService {\r\n    private subject = new Subject<Alert>();\r\n    private defaultId = 'default-alert';\r\n    private bol = true;\r\n\r\n    // enable subscribing to alerts observable\r\n    onAlert(id = this.defaultId): Observable<Alert> {\r\n        return this.subject.asObservable().pipe(filter(x => x && x.id === id));\r\n    }\r\n\r\n    // convenience methods\r\n    success(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Success, message }))\r\n    }\r\n\r\n    error(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Error, message }));\r\n    }\r\n\r\n    info(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Info, message }));\r\n    }\r\n\r\n    warn(message: string, options?: any) {\r\n        this.alert(new Alert({ ...options, type: AlertType.Warning, message }));\r\n    }\r\n\r\n    // main alert method\r\n    alert(alert: Alert) {\r\n        alert.id = alert.id || this.defaultId;\r\n        this.subject.next(alert);\r\n    }\r\n\r\n    clear(id = this.defaultId) {\r\n        this.subject.next(new Alert({ id }));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\nimport { environment } from '@environments/environment';\r\nimport { Book } from '@app/_models/book';\r\nimport { map } from \"rxjs/operators\";\r\nimport { Categories } from '@app/_models/Categories';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class BookService {\r\n  private bookSubject: BehaviorSubject<Book>;\r\n  public book: Observable<Book>;\r\n  private categorySubject: BehaviorSubject<Categories>;\r\n  public categories: Observable<Categories>;\r\n  userId: number;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private http: HttpClient\r\n  ) {\r\n    this.userId = JSON.parse(localStorage.getItem('user'));\r\n    this.categorySubject = new BehaviorSubject<Categories>(JSON.parse(localStorage.getItem('category')));\r\n    this.categories = this.categorySubject.asObservable();\r\n    this.bookSubject = new BehaviorSubject<Book>(JSON.parse(localStorage.getItem('book')));\r\n    this.book = this.bookSubject.asObservable();\r\n  }\r\n\r\n  public get bookValue(): Book {\r\n    return this.bookSubject.value;\r\n  }\r\n\r\n  findInGoogleApi(keyword: string) {\r\n    return this.http.get(`https://www.googleapis.com/books/v1/volumes?q=` + keyword);\r\n  }\r\n\r\n  save(book: Book) {\r\n    return this.http.post(`${environment.apiUrl}/books`, book);\r\n  }\r\n\r\n  getAllDashboard() {\r\n    return this.http.get(`${environment.apiUrl}/dashboard`);\r\n  }\r\n\r\n  getById(id: string) {\r\n    return this.http.get<Book>(`${environment.apiUrl}/books/${id}`);\r\n  }\r\n\r\n  getAll() {\r\n    return this.http.get<Book[]>(`${environment.apiUrl}/books`);\r\n  }\r\n\r\n  getAllFiltered() {\r\n    return this.http.get<Book[]>(`${environment.apiUrl}/books/filtered`);\r\n  }\r\n\r\n  getAllCategories() {\r\n    return this.http.get(`${environment.apiUrl}/books/categories`);\r\n  }\r\n\r\n  delete(id: string) {\r\n    return this.http.delete(`${environment.apiUrl}/books/${id}`)\r\n      .pipe(map(x => {\r\n        return x;\r\n      }));\r\n  }\r\n\r\n  register(book: Book, userId: number, isManuallyAdded: boolean) {\r\n    book.userId = userId;\r\n    book.isManuallyAdded = isManuallyAdded;\r\n    return this.http.post(`${environment.apiUrl}/books`, book);\r\n  }\r\n\r\n  vote(userId: string, bookId: number, vote: number) {\r\n    return this.http.post(`${environment.apiUrl}/vote`, { \"userId\": userId, \"bookId\": bookId, \"vote\": vote });\r\n  }\r\n\r\n  getStatusInfo(status, bookId) {\r\n    return this.http.get(`${environment.apiUrl}/book-actions/${status}/book/${bookId}`);\r\n  }\r\n\r\n  addBookReaction(userId, bookId, reaction) {\r\n    return this.http.post(`${environment.apiUrl}/book-reaction`,\r\n      { \"userId\": userId, \"bookId\": bookId, \"type\": reaction });\r\n  }\r\n\r\n  addCommentReaction(userId, commentId, reaction) {\r\n    return this.http.post(`${environment.apiUrl}/comment-reaction`,\r\n      { \"userId\": userId, \"commentId\": commentId, \"type\": reaction });\r\n  }\r\n\r\n  comment(comment, userId, bookId) {\r\n    return this.http.post(`${environment.apiUrl}/comments/`, { \"userId\": userId, \"bookId\": bookId, \"comment\": comment });\r\n  }\r\n\r\n  updateStatus(userId, bookId, status) {\r\n    return this.http.post(`${environment.apiUrl}/book-actions/update-status`, { \"bookId\": bookId, \"userId\": userId, \"newStatus\": status });\r\n  }\r\n\r\n  getBookActionByStatus(status) {\r\n    return this.http.get(`${environment.apiUrl}/book-actions/${status}`);\r\n  }\r\n\r\n  update(id, params) {\r\n    return this.http.put(`${environment.apiUrl}/books/${id}`, params);\r\n  }\r\n\r\n  getActuatorInfo() {\r\n    return this.http.get(`${environment.apiUrl}/actuator/info`);\r\n  }\r\n\r\n  getActuatorHealth() {\r\n    return this.http.get(`${environment.apiUrl}/actuator/health`);\r\n  }\r\n\r\n  getActuatorMetrics(url) {\r\n    return this.http.get(`${environment.apiUrl}/actuator/metrics/${url}`);\r\n  }\r\n}\r\n","export * from './account.service';\r\nexport * from './alert.service';\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\n\r\nimport {HomeComponent} from './home';\r\nimport {AuthGuard} from './_helpers';\r\nimport {ProfileComponent} from '@app/profile/profile.component';\r\nimport {InsideBookComponent} from \"@app/inside-book/inside-book.component\";\r\nimport {ChangePasswordComponent} from \"@app/users/change-password.component\";\r\nimport {EditProfileComponent} from \"@app/profile/edit-profile.component\";\r\nimport {DashboardComponent} from '@app/dashboard/dashboard.component';\r\n\r\nconst accountModule = () => import('./account/account.module').then(x => x.AccountModule);\r\nconst usersModule = () => import('./users/users.module').then(x => x.UsersModule);\r\nconst booksModule = () => import('./books/books.module').then(x => x.BooksModule);\r\n\r\nconst routes: Routes = [\r\n  {path: '', component: HomeComponent, canActivate: [AuthGuard]},\r\n  {path: 'users', loadChildren: usersModule, canActivate: [AuthGuard]},\r\n  {path: 'account', loadChildren: accountModule},\r\n  {path: 'profile/:id', component: ProfileComponent},\r\n  {path: 'profile/edit/:id', component: EditProfileComponent},\r\n  {path: 'books', children: [\r\n      {\r\n        path: '', loadChildren: booksModule, canActivate: [AuthGuard]\r\n      },\r\n      {\r\n        path: ':id', component: InsideBookComponent\r\n      }\r\n    ]},\r\n  {path: 'auth/password/:id', component: ChangePasswordComponent},\r\n  {path: 'dashboard', component: DashboardComponent},\r\n  // otherwise redirect to home\r\n  {path: '**', redirectTo: ''},\r\n\r\n\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\nimport { AccountService } from './_services';\r\nimport { User } from './_models';\r\n\r\n@Component({\r\n    selector: 'app',\r\n    templateUrl: 'app.component.html'\r\n})\r\n\r\nexport class AppComponent {\r\n    user: User;\r\n    userId: number;\r\n    roleOfUser: string;\r\n\r\n    constructor(private accountService: AccountService) {\r\n        // this.statusOfUser = accountService\r\n        this.accountService.user.subscribe(x => this.user = x);\r\n        // if (this.user !== null) {\r\n        //   this.userId = accountService.userId;\r\n        // }\r\n    }\r\n\r\n    logout() {\r\n        this.accountService.logout();\r\n    }\r\n}\r\n","<!-- nav -->\r\n\r\n<nav class=\"navbar navbar-expand navbar-dark bg-dark\" *ngIf=\"user\">\r\n    <div class=\"navbar-nav\">\r\n      <a routerLink=\"/\" style=\"margin-right: 20px;\"><img width=\"110px;\" height=\"auto\" src=\"../assets/logo-libr.png\" alt=\"logo\"></a>\r\n      <a class=\"nav-item nav-link\" routerLink=\"/\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact: true}\">Home</a>\r\n      <a *ngIf=\"user.role === 'ADMIN'\" class=\"nav-item nav-link\" routerLink=\"/users\" routerLinkActive=\"active\">Users</a>\r\n      <a *ngIf=\"user.role === 'ADMIN'\" class=\"nav-item nav-link\" routerLink=\"/books\" routerLinkActive=\"active\">Books</a>\r\n      <a class=\"nav-item nav-link\" routerLink=\"profile/{{user.id}}\" routerLinkActive=\"active\">My Profile</a>\r\n      <a *ngIf=\"user.role === 'ADMIN'\" class=\"nav-item nav-link\" href=\"/dashboard\" routerLinkActive=\"active\">Dashboard</a>\r\n      <a class=\"nav-item nav-link\" (click)=\"logout()\">Logout</a>\r\n    </div>\r\n</nav>\r\n\r\n<!-- main app container -->\r\n<div class=\"app-container\" [ngClass]=\"{ 'bg-light': user }\">\r\n    <alert></alert>\r\n    <router-outlet></router-outlet>\r\n</div>\r\n\r\n<footer *ngIf=\"user\" class=\"navbar navbar-expand navbar-dark bg-dark\" style=\"background-color: white !important; padding: 20px 5%;\">\r\n  <div class=\"d-flex justify-content-around align-items-center\">\r\n    <div class=\"logo-isd\"><img width=\"100px\" height=\"100px\" src=\"../assets/isd-logo.png\" alt=\"ISD-logo\"></div>\r\n    <div class=\"footer-text\" style=\"width: 30%\">\r\n      <p>ISD in an innovative software outsourcing provider with the main skill set focusing on Java-related technologies.</p>\r\n      <p>For over 10 years, we are eager to take up a challenge and enjoy working with new technologies</p>\r\n    </div>\r\n    <div class=\"footer-links d-flex align-items-center flex-column\">\r\n      <div class=\"img-links d-flex justify-content-between\" style=\"width: 100px; margin-bottom: 10px;\">\r\n        <span>\r\n          <a href=\"https://www.facebook.com/isdmoldova/\" target=\"_blank\">\r\n           <svg class=\"svg-link\" height=\"18px\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\" version=\"1.1\" viewBox=\"0 0 512 512\"  xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:serif=\"http://www.serif.com/\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><path d=\"M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z\"/></svg>\r\n          </a>\r\n        </span>\r\n        <span>\r\n          <a href=\"https://linkedin.com/company/isd-moldova\" target=\"_blank\">\r\n            <svg class=\"svg-link\" height=\"18px\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\" version=\"1.1\" viewBox=\"0 0 512 512\"  xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:serif=\"http://www.serif.com/\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><path d=\"M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z\"/></svg>\r\n          </a>\r\n        </span>\r\n        <span>\r\n          <a href=\"https://www.instagram.com/isd_moldova/\" target=\"_blank\">\r\n            <svg class=\"svg-link\" height=\"18px\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\" version=\"1.1\" viewBox=\"0 0 512 512\"  xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-193.446,81c-47.527,0 -53.487,0.201 -72.152,1.053c-18.627,0.85 -31.348,3.808 -42.48,8.135c-11.508,4.472 -21.267,10.456 -30.996,20.184c-9.729,9.729 -15.713,19.489 -20.185,30.996c-4.326,11.132 -7.284,23.853 -8.135,42.48c-0.851,18.665 -1.052,24.625 -1.052,72.152c0,47.527 0.201,53.487 1.052,72.152c0.851,18.627 3.809,31.348 8.135,42.48c4.472,11.507 10.456,21.267 20.185,30.996c9.729,9.729 19.488,15.713 30.996,20.185c11.132,4.326 23.853,7.284 42.48,8.134c18.665,0.852 24.625,1.053 72.152,1.053c47.527,0 53.487,-0.201 72.152,-1.053c18.627,-0.85 31.348,-3.808 42.48,-8.134c11.507,-4.472 21.267,-10.456 30.996,-20.185c9.729,-9.729 15.713,-19.489 20.185,-30.996c4.326,-11.132 7.284,-23.853 8.134,-42.48c0.852,-18.665 1.053,-24.625 1.053,-72.152c0,-47.527 -0.201,-53.487 -1.053,-72.152c-0.85,-18.627 -3.808,-31.348 -8.134,-42.48c-4.472,-11.507 -10.456,-21.267 -20.185,-30.996c-9.729,-9.728 -19.489,-15.712 -30.996,-20.184c-11.132,-4.327 -23.853,-7.285 -42.48,-8.135c-18.665,-0.852 -24.625,-1.053 -72.152,-1.053Zm0,31.532c46.727,0 52.262,0.178 70.715,1.02c17.062,0.779 26.328,3.63 32.495,6.025c8.169,3.175 13.998,6.968 20.122,13.091c6.124,6.124 9.916,11.954 13.091,20.122c2.396,6.167 5.247,15.433 6.025,32.495c0.842,18.453 1.021,23.988 1.021,70.715c0,46.727 -0.179,52.262 -1.021,70.715c-0.778,17.062 -3.629,26.328 -6.025,32.495c-3.175,8.169 -6.967,13.998 -13.091,20.122c-6.124,6.124 -11.953,9.916 -20.122,13.091c-6.167,2.396 -15.433,5.247 -32.495,6.025c-18.45,0.842 -23.985,1.021 -70.715,1.021c-46.73,0 -52.264,-0.179 -70.715,-1.021c-17.062,-0.778 -26.328,-3.629 -32.495,-6.025c-8.169,-3.175 -13.998,-6.967 -20.122,-13.091c-6.124,-6.124 -9.917,-11.953 -13.091,-20.122c-2.396,-6.167 -5.247,-15.433 -6.026,-32.495c-0.842,-18.453 -1.02,-23.988 -1.02,-70.715c0,-46.727 0.178,-52.262 1.02,-70.715c0.779,-17.062 3.63,-26.328 6.026,-32.495c3.174,-8.168 6.967,-13.998 13.091,-20.122c6.124,-6.123 11.953,-9.916 20.122,-13.091c6.167,-2.395 15.433,-5.246 32.495,-6.025c18.453,-0.842 23.988,-1.02 70.715,-1.02Zm0,53.603c-49.631,0 -89.865,40.234 -89.865,89.865c0,49.631 40.234,89.865 89.865,89.865c49.631,0 89.865,-40.234 89.865,-89.865c0,-49.631 -40.234,-89.865 -89.865,-89.865Zm0,148.198c-32.217,0 -58.333,-26.116 -58.333,-58.333c0,-32.217 26.116,-58.333 58.333,-58.333c32.217,0 58.333,26.116 58.333,58.333c0,32.217 -26.116,58.333 -58.333,58.333Zm114.416,-151.748c0,11.598 -9.403,20.999 -21.001,20.999c-11.597,0 -20.999,-9.401 -20.999,-20.999c0,-11.598 9.402,-21 20.999,-21c11.598,0 21.001,9.402 21.001,21Z\"/></svg>\r\n          </a>\r\n        </span>\r\n        <span class=\"d-flex\">\r\n          <a href=\"https://isd-soft.com/\" target=\"_blank\">\r\n          <svg class=\"svg-link\" height=\"18px\" style=\"fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;\" version=\"1.1\" viewBox=\"0 0 512 512\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:serif=\"http://www.serif.com/\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><path d=\"M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-193.446,76c-99.371,0 -180,80.629 -180,180c0,99.371 80.629,180 180,180c99.176,0 180,-80.629 180,-180c0,-99.371 -80.824,-180 -180,-180Zm0,333.839c-35.532,0 -68.328,-12.103 -94.295,-32.407c2.733,-5.663 33.97,-65.79 120.651,-96.052c0.388,-0.194 0.586,-0.194 0.975,-0.392c21.672,56.03 30.456,103.082 32.8,116.553c-18.547,8.003 -38.851,12.298 -60.131,12.298Zm85.705,-26.356c-1.562,-9.371 -9.759,-54.273 -29.869,-109.523c48.222,-7.614 90.389,4.882 95.659,6.639c-6.635,42.753 -31.233,79.653 -65.79,102.884Zm-239.544,-127.289l0,-4.683c6.639,0.194 81.216,1.17 157.939,-21.867c4.49,8.59 8.59,17.374 12.492,26.162c-1.951,0.586 -4.096,1.17 -6.051,1.756c-79.261,25.575 -121.432,95.465 -124.945,101.322c-24.401,-27.136 -39.435,-63.252 -39.435,-102.69Zm272.733,-97.221c21.474,26.161 34.362,59.544 34.75,95.659c-5.076,-0.976 -55.836,-11.322 -106.984,-4.878c-1.17,-2.538 -2.15,-5.274 -3.32,-8.006c-3.124,-7.416 -6.638,-15.03 -10.152,-22.256c56.618,-23.036 82.386,-56.224 85.706,-60.519Zm-184.295,-41.976c4.1,5.468 31.431,43.538 57.006,88.83c-71.842,19.13 -135.292,18.741 -142.125,18.741c9.954,-47.635 42.167,-87.267 85.119,-107.571Zm65.401,-14.447c39.046,0 74.772,14.645 101.909,38.657c-2.733,3.902 -25.967,34.945 -80.629,55.443c-25.186,-46.267 -53.1,-84.142 -57.395,-90c11.516,-2.732 23.619,-4.1 36.115,-4.1Z\"/></svg>          </a>\r\n        </span>\r\n      </div>\r\n      <p class=\"m-0\">Copyright 2016-2021, ISD.</p>\r\n      <p class=\"m-0\">All rights reserved.</p>\r\n    </div>\r\n    <div class=\"footer-contacts\">\r\n      <span class=\"d-flex align-items-center\" style=\"margin-bottom: 1rem\">\r\n        <svg height=\"22px\" id=\"Layer_1\" style=\"enable-background:new 0 0 128 128;\" version=\"1.1\" viewBox=\"0 0 128 128\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><path d=\"M97.8,15C79.1-3.6,48.9-3.6,30.2,15c-18.6,18.6-18.6,48.9,0,67.6L64,115.6l33.7-33.1l0,0C116.4,63.9,116.4,33.6,97.8,15z    M92.1,76.8L64,104.4L35.9,76.9c-7.5-7.5-11.6-17.5-11.6-28.1s4.1-20.6,11.6-28.1S53.4,9,64,9s20.6,4.1,28.1,11.6   s11.6,17.5,11.6,28.1C103.8,59.4,99.6,69.3,92.1,76.8z\"/><path d=\"M64,28.3c-11.3,0-20.4,9.2-20.4,20.4S52.7,69.2,64,69.2S84.4,60,84.4,48.8S75.3,28.3,64,28.3z M64,61.2   c-6.8,0-12.4-5.6-12.4-12.4S57.2,36.3,64,36.3s12.4,5.6,12.4,12.4S70.8,61.2,64,61.2z\"/><rect x=\"27\" y=\"119\"/></g></svg>\r\n        <p style=\"margin-bottom: 0; margin-left: 10px;\">Str. Bulgara 33/1 <br>Chisinau MD-2001, Republic of Moldova</p>\r\n      </span>\r\n      <span class=\"d-flex\" style=\"margin-bottom: 1rem\">\r\n        <svg height=\"22px\" id=\"Layer_1\" style=\"enable-background:new 0 0 512 512;\" version=\"1.1\" viewBox=\"0 0 512 512\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><path d=\"M415.9,335.5c-14.6-15-56.1-43.1-83.3-43.1c-6.3,0-11.8,1.4-16.3,4.3c-13.3,8.5-23.9,15.1-29,15.1c-2.8,0-5.8-2.5-12.4-8.2  l-1.1-1c-18.3-15.9-22.2-20-29.3-27.4l-1.8-1.9c-1.3-1.3-2.4-2.5-3.5-3.6c-6.2-6.4-10.7-11-26.6-29l-0.7-0.8  c-7.6-8.6-12.6-14.2-12.9-18.3c-0.3-4,3.2-10.5,12.1-22.6c10.8-14.6,11.2-32.6,1.3-53.5c-7.9-16.5-20.8-32.3-32.2-46.2l-1-1.2  c-9.8-12-21.2-18-33.9-18c-14.1,0-25.8,7.6-32,11.6c-0.5,0.3-1,0.7-1.5,1c-13.9,8.8-24,20.9-27.8,33.2c-5.7,18.5-9.5,42.5,17.8,92.4  c23.6,43.2,45,72.2,79,107.1c32,32.8,46.2,43.4,78,66.4c35.4,25.6,69.4,40.3,93.2,40.3c22.1,0,39.5,0,64.3-29.9  C442.3,370.8,431.5,351.6,415.9,335.5z\"/></svg>\r\n        <p style=\"margin-bottom: 0;margin-left: 10px;\">+373 22 996 170</p>\r\n      </span>\r\n      <span class=\"d-flex\" >\r\n        <svg height=\"22px\" id=\"Layer_1\" style=\"enable-background:new 0 0 512 512;\" version=\"1.1\" viewBox=\"0 0 512 512\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><path d=\"M67,148.7c11,5.8,163.8,89.1,169.5,92.1c5.7,3,11.5,4.4,20.5,4.4c9,0,14.8-1.4,20.5-4.4c5.7-3,158.5-86.3,169.5-92.1   c4.1-2.1,11-5.9,12.5-10.2c2.6-7.6-0.2-10.5-11.3-10.5H257H65.8c-11.1,0-13.9,3-11.3,10.5C56,142.9,62.9,146.6,67,148.7z\"/><path d=\"M455.7,153.2c-8.2,4.2-81.8,56.6-130.5,88.1l82.2,92.5c2,2,2.9,4.4,1.8,5.6c-1.2,1.1-3.8,0.5-5.9-1.4l-98.6-83.2   c-14.9,9.6-25.4,16.2-27.2,17.2c-7.7,3.9-13.1,4.4-20.5,4.4c-7.4,0-12.8-0.5-20.5-4.4c-1.9-1-12.3-7.6-27.2-17.2l-98.6,83.2   c-2,2-4.7,2.6-5.9,1.4c-1.2-1.1-0.3-3.6,1.7-5.6l82.1-92.5c-48.7-31.5-123.1-83.9-131.3-88.1c-8.8-4.5-9.3,0.8-9.3,4.9   c0,4.1,0,205,0,205c0,9.3,13.7,20.9,23.5,20.9H257h185.5c9.8,0,21.5-11.7,21.5-20.9c0,0,0-201,0-205   C464,153.9,464.6,148.7,455.7,153.2z\"/></g></svg>\r\n        <p style=\"margin-bottom: 0; margin-left: 10px;\">isd@inthergroup.com</p>\r\n      </span>\r\n    </div>\r\n    <div class=\"logo-libr\"><img width=\"150px\" height=\"auto\" src=\"../assets/libr-dark-logo.png\" alt=\"libr-logo\"></div>\r\n  </div>\r\n</footer>\r\n\r\n<style>\r\n  .svg-link:hover {\r\n    fill: #F24A00;\r\n  }\r\n</style>\r\n\r\n","import {NgModule} from '@angular/core';\r\nimport {BrowserModule} from '@angular/platform-browser';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {HttpClientModule, HTTP_INTERCEPTORS} from '@angular/common/http';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\n\r\nimport {AppRoutingModule} from './app-routing.module';\r\nimport {AppComponent} from './app.component';\r\nimport {AlertComponent} from './_components';\r\nimport {HomeComponent} from './home';\r\n\r\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\r\nimport { ProfileComponent } from './profile/profile.component';\r\n\r\nimport { NoopAnimationsModule } from '@angular/platform-browser/animations';\r\nimport {DataTablesModule} from 'angular-datatables';\r\nimport { InsideBookComponent } from './inside-book/inside-book.component';\r\nimport {ChangePasswordComponent} from '@app/users/change-password.component';\r\nimport {EditProfileComponent} from \"@app/profile/edit-profile.component\";\r\nimport {NgApexchartsModule} from 'ng-apexcharts';;\r\nimport { DashboardComponent } from './dashboard/dashboard.component'\r\n\r\n@NgModule({\r\n  imports: [\r\n    BrowserModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    NgbModule,\r\n    MatCardModule,\r\n    NoopAnimationsModule,\r\n    MatFormFieldModule,\r\n    DataTablesModule,\r\n    NgApexchartsModule\r\n  ],\r\n\r\n  declarations: [\r\n    AppComponent,\r\n    AlertComponent,\r\n    HomeComponent,\r\n    ChangePasswordComponent,\r\n    InsideBookComponent,\r\n    ProfileComponent,\r\n    EditProfileComponent,\r\n    DashboardComponent,\r\n    ],\r\n\r\n  bootstrap: [AppComponent],\r\n  exports: []\r\n})\r\n\r\nexport class AppModule {\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport {\r\n  ApexNonAxisChartSeries,\r\n  ApexResponsive,\r\n  ApexChart, ChartComponent\r\n} from 'ng-apexcharts';\r\nimport { count, first } from 'rxjs/operators';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AccountService, AlertService } from '@app/_services';\r\nimport { BookService } from '@app/_services/book.service';\r\n\r\nimport {\r\n  ApexAxisChartSeries,\r\n  ApexDataLabels,\r\n  ApexPlotOptions,\r\n  ApexYAxis,\r\n  ApexLegend,\r\n  ApexGrid\r\n} from 'ng-apexcharts';\r\n\r\ntype ApexXAxis = {\r\n  type?: 'category' | 'datetime' | 'numeric';\r\n  categories?: any;\r\n  labels?: {\r\n    style?: {\r\n      colors?: string | string[];\r\n      fontSize?: string;\r\n    };\r\n  };\r\n};\r\n\r\nexport type ChartOptionsTopCategories = {\r\n  series: ApexAxisChartSeries;\r\n  chart: ApexChart;\r\n  dataLabels: ApexDataLabels;\r\n  plotOptions: ApexPlotOptions;\r\n  yaxis: ApexYAxis;\r\n  xaxis: ApexXAxis;\r\n  grid: ApexGrid;\r\n  colors: string[];\r\n  legend: ApexLegend;\r\n};\r\n\r\nexport type ChartOptions = {\r\n  series: ApexAxisChartSeries;\r\n  chart: ApexChart;\r\n  dataLabels: ApexDataLabels;\r\n  plotOptions: ApexPlotOptions;\r\n  yaxis: ApexYAxis;\r\n  xaxis: ApexXAxis;\r\n  grid: ApexGrid;\r\n  colors: string[];\r\n  legend: ApexLegend;\r\n  labels: string[];\r\n  responsive: object[]\r\n};\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.less']\r\n})\r\n\r\nexport class DashboardComponent implements OnInit {\r\n  @ViewChild('chart1') chart1: ChartComponent;\r\n  @ViewChild('chartCategory') chart: ChartComponent;\r\n  @ViewChild('chart3') chart3: ChartComponent;\r\n  public chartOptions: Partial<ChartOptions>;\r\n  public ChartOptionsTopCategories: Partial<ChartOptions>;\r\n  public ChartOptionsSubmittedBook: Partial<ChartOptions>;\r\n  public ChartOptionsSubmittedPerWeek: Partial<ChartOptions>;\r\n\r\n\r\n  dashboard: any;\r\n  categoriesName: Array<string> = [];\r\n  categoriesCount: Array<number> = [];\r\n\r\n  countOfSubmittedBooks: number;\r\n  countOfInlibraryBooks: number;\r\n\r\n  measurements: any;\r\n\r\n  submittedPerWeekName: Array<string> = [];\r\n  submittedPerWeekCount: Array<number> = [];\r\n\r\n  actuatorInfo: any;\r\n  actuatorHealth: any;\r\n  actuatorMetrics: Array<{ [key: string]: string; }> = [];\r\n  actuatorMetricsTmp: any;\r\n\r\n  NumberOfProcessors: string;\r\n  MemoryUsed: string;\r\n  HttpRequest: string;\r\n  HttpRequestTotal: string;\r\n  HttpRequestMax: string;\r\n  UsedMemory: string;\r\n  UpTime: string;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private userService: AccountService,\r\n    private bookService: BookService,\r\n    private alertService: AlertService\r\n  ) {\r\n    this.ChartOptionsTopCategories = {\r\n      series: [\r\n        {\r\n          name: 'books',\r\n          data: this.categoriesCount\r\n        }\r\n      ],\r\n      chart: {\r\n        height: 350,\r\n        type: 'bar',\r\n        events: {\r\n          click(chart, w, e) {\r\n          }\r\n        }\r\n      },\r\n      colors: [\r\n        '#008FFB',\r\n        '#00E396',\r\n        '#FEB019',\r\n        '#FF4560',\r\n        '#775DD0',\r\n        '#546E7A',\r\n        '#26a69a',\r\n        '#D10CE8'\r\n      ],\r\n      plotOptions: {\r\n        bar: {\r\n          columnWidth: '45%',\r\n          distributed: true\r\n        }\r\n      },\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      legend: {\r\n        show: false\r\n      },\r\n      grid: {\r\n        show: false\r\n      },\r\n      xaxis: {\r\n        categories: this.categoriesName,\r\n        labels: {\r\n          style: {\r\n            colors: [\r\n              '#008FFB',\r\n              '#00E396',\r\n              '#FEB019',\r\n              '#FF4560',\r\n              '#775DD0',\r\n              '#546E7A',\r\n              '#26a69a',\r\n              '#D10CE8'\r\n            ],\r\n            fontSize: '12px'\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.ChartOptionsSubmittedPerWeek = {\r\n      series: [\r\n        {\r\n          name: 'books',\r\n          data: this.submittedPerWeekCount,\r\n        }\r\n      ],\r\n      chart: {\r\n        height: 350,\r\n        type: 'bar',\r\n        events: {\r\n          click(chart, w, e) {\r\n          }\r\n        }\r\n      },\r\n      colors: [\r\n        '#008FFB',\r\n        '#00E396',\r\n        '#FEB019',\r\n        '#FF4560',\r\n        '#775DD0',\r\n        '#546E7A',\r\n        '#26a69a',\r\n        '#D10CE8'\r\n      ],\r\n      plotOptions: {\r\n        bar: {\r\n          columnWidth: '45%',\r\n          distributed: true\r\n        }\r\n      },\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      legend: {\r\n        show: false\r\n      },\r\n      grid: {\r\n        show: false\r\n      },\r\n      xaxis: {\r\n        categories: this.submittedPerWeekName,\r\n        labels: {\r\n          style: {\r\n            colors: [\r\n              '#008FFB',\r\n              '#00E396',\r\n              '#FEB019',\r\n              '#FF4560',\r\n              '#775DD0',\r\n              '#546E7A',\r\n              '#26a69a',\r\n              '#D10CE8'\r\n            ],\r\n            fontSize: '12px'\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    this.ChartOptionsSubmittedBook = {\r\n      series: [\r\n        {\r\n          name: 'books',\r\n          data: this.categoriesCount\r\n        }\r\n      ],\r\n      chart: {\r\n        height: 350,\r\n        type: 'bar',\r\n        events: {\r\n          click(chart, w, e) {\r\n          }\r\n        }\r\n      },\r\n      colors: [\r\n        '#008FFB',\r\n        '#00E396',\r\n        '#FEB019',\r\n        '#FF4560',\r\n        '#775DD0',\r\n        '#546E7A',\r\n        '#26a69a',\r\n        '#D10CE8'\r\n      ],\r\n      plotOptions: {\r\n        bar: {\r\n          columnWidth: '45%',\r\n          distributed: true\r\n        }\r\n      },\r\n      dataLabels: {\r\n        enabled: false\r\n      },\r\n      legend: {\r\n        show: false\r\n      },\r\n      grid: {\r\n        show: false\r\n      },\r\n      xaxis: {\r\n        categories: this.categoriesName,\r\n        labels: {\r\n          style: {\r\n            colors: [\r\n              '#008FFB',\r\n              '#00E396',\r\n              '#FEB019',\r\n              '#FF4560',\r\n              '#775DD0',\r\n              '#546E7A',\r\n              '#26a69a',\r\n              '#D10CE8'\r\n            ],\r\n            fontSize: '12px'\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n\r\n    this.chartOptions = {\r\n      // series: [this.dashboard.allSubmittedAndInLibraryBooks.SUBMITTED,\r\n      //   this.dashboard.allSubmittedAndInLibraryBooks.IN_LIBRARY],\r\n      series: [],\r\n      chart: {\r\n        width: 500,\r\n        type: 'pie'\r\n      },\r\n      labels: ['Submitted', 'In_library'],\r\n      responsive: [\r\n        {\r\n          breakpoint: 480,\r\n          options: {\r\n            chart: {\r\n              width: 200,\r\n            },\r\n            legend: {\r\n              position: 'bottom',\r\n            },\r\n            labels: {\r\n              // fontSize: '2rem',\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.fetchAllDashboard();\r\n    this.getActuatorInfo();\r\n    this.getActuatorHealth();\r\n    this.getActuatorMetrics();\r\n  }\r\n\r\n\r\n  getActuatorMetrics() {\r\n    this.bookService.getActuatorMetrics('jvm.buffer.memory.used')\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.MemoryUsed = data[\"measurements\"][0].value;\r\n        });\r\n\r\n    this.bookService.getActuatorMetrics('system.cpu.count')\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.NumberOfProcessors = data[\"measurements\"][0].value\r\n        });\r\n\r\n    this.bookService.getActuatorMetrics('http.server.requests')\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n\r\n          this.HttpRequest = data[\"measurements\"][0].value;\r\n          this.HttpRequestMax = data[\"measurements\"][1].value;\r\n          this.HttpRequestTotal = data[\"measurements\"][2].value;\r\n        });\r\n\r\n    this.bookService.getActuatorMetrics('jvm.memory.used')\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.UsedMemory = data[\"measurements\"][0].value;\r\n        });\r\n\r\n    this.bookService.getActuatorMetrics('process.uptime')\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.UpTime = data[\"measurements\"][0].value;\r\n        });\r\n\r\n    // this.bookService.getActuatorMetrics('system.cpu.count')\r\n    //   .pipe(first())\r\n    //   .subscribe(\r\n    //     data => {\r\n    //       this.actuatorMetrics[2] = [{'NumberOfProcessors' : data.measurements[0].value}];\r\n    //\r\n    //     });\r\n  }\r\n\r\n  getActuatorHealth() {\r\n    this.bookService.getActuatorHealth()\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.actuatorHealth = data;\r\n        });\r\n  }\r\n\r\n  getActuatorInfo() {\r\n    this.bookService.getActuatorInfo()\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.actuatorInfo = data;\r\n        });\r\n  }\r\n\r\n  fetchAllDashboard() {\r\n    this.bookService.getAllDashboard()\r\n      .pipe(first())\r\n      .subscribe(data => {\r\n        this.dashboard = data;\r\n\r\n        for (let i = 0; i < this.dashboard.booksPerCategory.length; i++) {\r\n          this.categoriesName.push(this.dashboard.booksPerCategory[i].category);\r\n          this.categoriesCount.push(this.dashboard.booksPerCategory[i].count);\r\n        }\r\n\r\n        this.countOfSubmittedBooks = this.dashboard.allSubmittedAndInLibraryBooks.SUBMITTED;\r\n        this.countOfInlibraryBooks = this.dashboard.allSubmittedAndInLibraryBooks.IN_LIBRARY;\r\n\r\n        Object.entries(this.dashboard.submittedPerWeek);\r\n        for (let i = 0; i < 4; i++) {\r\n          this.submittedPerWeekName.push(Object.entries(this.dashboard.submittedPerWeek)[i][0].toString());\r\n          this.submittedPerWeekCount.push(Number.parseInt(Object.entries(this.dashboard.submittedPerWeek)[i][1].toString()));\r\n        }\r\n\r\n      });\r\n  }\r\n}\r\n","<div class=\"dashboard-container\">\r\n  <div class=\"d-flex justify-content-between\">\r\n    <div style=\"width: 49%\">\r\n      <div class = \"d-flex container-round-statistic\">\r\n      <div class = \"rounded-circle\">\r\n        <div class=\"round-statistic-img\">\r\n          <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n               width=\"70px\" height=\"70px\" viewBox=\"0 0 512 512\" enable-background=\"new 0 0 512 512\" xml:space=\"preserve\">\r\n<text transform=\"matrix(1 0 0 1 168.7834 543.8093)\"><tspan x=\"0\" y=\"0\" fill=\"#FFFF00\" font-family=\"'Verdana-Bold'\" font-size=\"20\">simpleicon.com</tspan><tspan x=\"-159.59\" y=\"24\" fill=\"#FFFF00\" font-family=\"'Verdana'\" font-size=\"20\">Collection Of Flat Icon, Symbols And Glyph Icons</tspan></text>\r\n            <path fill=\"#020201\" d=\"M454.426,392.582c-5.439-16.32-15.298-32.782-29.839-42.362c-27.979-18.572-60.578-28.479-92.099-39.085\r\n\tc-7.604-2.664-15.33-5.568-22.279-9.7c-6.204-3.686-8.533-11.246-9.974-17.886c-0.636-3.512-1.026-7.116-1.228-10.661\r\n\tc22.857-31.267,38.019-82.295,38.019-124.136c0-65.298-36.896-83.495-82.402-83.495c-45.515,0-82.403,18.17-82.403,83.468\r\n\tc0,43.338,16.255,96.5,40.489,127.383c-0.221,2.438-0.511,4.876-0.95,7.303c-1.444,6.639-3.77,14.058-9.97,17.743\r\n\tc-6.957,4.133-14.682,6.756-22.287,9.42c-31.521,10.605-64.119,19.957-92.091,38.529c-14.549,9.58-24.403,27.159-29.838,43.479\r\n\tc-5.597,16.938-7.886,37.917-7.541,54.917h205.958h205.974C462.313,430.5,460.019,409.521,454.426,392.582z\"/>\r\n</svg>\r\n        </div>\r\n        <h5 class = \"round-statistic-title\">Users</h5>\r\n        <p class = \"round-statistic-info\"><strong>{{dashboard.usersCount}}</strong></p>\r\n      </div>\r\n      <div class = \"rounded-circle\">\r\n        <div class=\"round-statistic-img\">\r\n          <img width=\"auto\" height=\"62px\" src=\"../../assets/like_PNG13.png\" alt=\"\">\r\n        </div>\r\n        <h5 class = \"round-statistic-title\">Votes</h5>\r\n        <p class = \"round-statistic-info\"><strong>{{dashboard.votesCount}}</strong></p>\r\n      </div>\r\n      <div class = \"rounded-circle\">\r\n        <div class=\"round-statistic-img\" style=\"padding-top: 7px;\">\r\n          <img width=\"auto\" height=\"56px\" src=\"../../assets/toppng.com-open-book-icon-png-download-book-black-and-white-2316x1469.png\" alt=\"\">\r\n        </div>\r\n        <h5 class = \"round-statistic-title\">Books</h5>\r\n        <p class = \"round-statistic-info\"><strong>{{dashboard.booksCount}}</strong></p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"emotion-statistic-container\">\r\n      <h3 class=\"text-center\">Total reactions per books</h3>\r\n      <div class = \"d-flex justify-content-around\">\r\n        <div>\r\n          <p class=\"emoji\"></p>\r\n          <h3 class=\"emoji-count\">{{dashboard.heartsPerBook}}</h3>\r\n        </div>\r\n        <div>\r\n          <p class=\"emoji\"></p>\r\n          <h3 class=\"emoji-count\">{{dashboard.laughsPerBook}}</h3>\r\n        </div>\r\n        <div>\r\n          <p class=\"emoji\"></p>\r\n          <h3 class=\"emoji-count\">{{dashboard.sadPerBook}}</h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </div>\r\n    <div class=\"spring-info-container\">\r\n      <h3>System information:</h3>\r\n\r\n      <h4>Info</h4>\r\n      <ul>\r\n        <li><strong>Application name: </strong> {{this.actuatorInfo.app.name}}</li>\r\n        <li><strong>Description:</strong> {{this.actuatorInfo.app.description}}</li>\r\n        <li><strong>Application version: </strong>{{this.actuatorInfo.app.version}}</li>\r\n        <li><strong>Java version:</strong> {{this.actuatorInfo.app.java.version}}</li>\r\n      </ul>\r\n      <h4>Health</h4>\r\n      <ul>\r\n        <li><strong>The state of application:</strong> {{this.actuatorHealth.status}}</li>\r\n        <li><strong>Database:</strong> {{this.actuatorHealth.components.db.details.database}}</li>\r\n        <li><strong>Total diskspace: </strong>{{this.actuatorHealth.components.diskSpace.details.total}}</li>\r\n        <li><strong>Free diskspace: </strong>{{this.actuatorHealth.components.diskSpace.details.free}}</li>\r\n      </ul>\r\n      <h4>Metrics</h4>\r\n      <ul>\r\n        <li><strong>The number of processors available:</strong> {{this.NumberOfProcessors}}</li>\r\n        <li><strong>The uptime: </strong>{{this.UpTime}}</li>\r\n        <li><strong>Memory used: </strong>{{this.MemoryUsed}}</li>\r\n        <li><strong>Count of http server request: </strong>{{this.HttpRequest}}</li>\r\n        <li><strong>Total time of http server requests: </strong> {{this.HttpRequestTotal}}</li>\r\n        <li><strong>Maximum of http server requests: </strong>{{this.HttpRequestMax}}</li>\r\n        <li><strong>The amount of used memory: </strong>{{this.UsedMemory}}</li>\r\n      </ul>\r\n\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"d-flex justify-content-between\" style=\"margin-top: 20px\">\r\n    <div class=\"categories-statistic-container\">\r\n      <h3 class=\"text-center\">Number of books by category</h3>\r\n      <div id=\"chart\" style=\"max-width: 650px;\">\r\n        <apx-chart\r\n          [series]=\"ChartOptionsTopCategories.series\"\r\n          [chart]=\"ChartOptionsTopCategories.chart\"\r\n          [dataLabels]=\"ChartOptionsTopCategories.dataLabels\"\r\n          [plotOptions]=\"ChartOptionsTopCategories.plotOptions\"\r\n          [yaxis]=\"ChartOptionsTopCategories.yaxis\"\r\n          [xaxis]=\"ChartOptionsTopCategories.xaxis\"\r\n          [legend]=\"ChartOptionsTopCategories.legend\"\r\n          [colors]=\"ChartOptionsTopCategories.colors\"\r\n          [grid]=\"ChartOptionsTopCategories.grid\"\r\n        ></apx-chart>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"container-categories-sub-lib\" style=\"height: 418px\">\r\n      <h3 class=\"text-center\">Total SUBMITTED and IN_LIBRARY books</h3>\r\n      <div id=\"chart2\" style=\"margin: auto;\">\r\n        <apx-chart\r\n          [series]=\"[this.countOfSubmittedBooks, this.countOfInlibraryBooks]\"\r\n          [chart]=\"chartOptions.chart\"\r\n          [labels]=\"chartOptions.labels\"\r\n          [responsive]=\"chartOptions.responsive\"\r\n        ></apx-chart>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"d-flex justify-content-between\" style=\"margin-top: 20px\">\r\n    <div class=\"categories-statistic-container\">\r\n      <h3 class=\"text-center\">Total SUBMITTED and IN_LIBRARY books per week</h3>\r\n      <div id=\"chart\" style=\"max-width: 650px;\">\r\n\r\n        <apx-chart\r\n          [series]=\"[\r\n        {\r\n          name: 'books',\r\n          data: this.submittedPerWeekCount\r\n        }\r\n      ]\"\r\n          [chart]=\"ChartOptionsSubmittedPerWeek.chart\"\r\n          [dataLabels]=\"ChartOptionsSubmittedPerWeek.dataLabels\"\r\n          [plotOptions]=\"ChartOptionsSubmittedPerWeek.plotOptions\"\r\n          [yaxis]=\"ChartOptionsSubmittedPerWeek.yaxis\"\r\n          [xaxis]=\"ChartOptionsSubmittedPerWeek.xaxis\"\r\n          [legend]=\"ChartOptionsSubmittedPerWeek.legend\"\r\n          [colors]=\"ChartOptionsSubmittedPerWeek.colors\"\r\n          [grid]=\"ChartOptionsSubmittedPerWeek.grid\"\r\n        ></apx-chart>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"container-up-down-vote\">\r\n      <h3 class=\"text-center\">Top up-vote/down-vote books</h3>\r\n      <div class=\"d-flex justify-content-between\">\r\n        <div class=\"up-vote-container\">\r\n          <a class=\"up-down-vote-title\" href=\"books/{{this.dashboard.mostUpVotedBook.id}}\">\r\n            <h6>{{this.dashboard.mostUpVotedBook.title}}</h6>\r\n          </a>\r\n          <a href=\"books/{{this.dashboard.mostUpVotedBook.id}}\"><img src=\"{{this.dashboard.mostUpVotedBook.imageLinks.thumbnail}}\" alt=\"\"></a>\r\n          <div class=\"down-vote-count\">\r\n            <div ng-disabled=\"buttonClicked\" class=\"btn-success btn-vote\" >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50px\" height=\"50px\" fill=\"currentColor\" class=\"bi bi-arrow-up\" viewBox=\"0 0 16 16\">\r\n                <path fill-rule=\"evenodd\" d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"/>\r\n              </svg>\r\n            </div>\r\n            <span class=\"up-vs-down-vote\">{{this.dashboard.mostUpVotedBook.vote}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"vs d-flex align-items-center\">\r\n          <p style=\"font-size: 4rem; font-weight: bold;\">VS</p>\r\n        </div>\r\n        <div class=\"down-vote-container\">\r\n          <a class=\"up-down-vote-title\" href=\"books/{{this.dashboard.mostDownVotedBook.id}}\">\r\n            <h6>{{this.dashboard.mostDownVotedBook.title}}</h6>\r\n          </a>\r\n          <a href=\"books/{{this.dashboard.mostDownVotedBook.id}}\"><img src=\"{{this.dashboard.mostDownVotedBook.imageLinks.thumbnail}}\" alt=\"\"></a>\r\n          <div class=\"down-vote-count\">\r\n            <div class=\"btn-danger btn-vote\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50px\" height=\"50px\" fill=\"currentColor\" class=\"bi bi-arrow-down\" viewBox=\"0 0 16 16\">\r\n                <path fill-rule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\r\n              </svg>\r\n            </div>\r\n            <span class=\"up-vs-down-vote\">{{this.dashboard.mostDownVotedBook.vote}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { BookService } from '@app/_services/book.service';\r\nimport { first} from 'rxjs/operators';\r\nimport { AccountService, AlertService } from '@app/_services';\r\nimport { Book } from '@app/_models/book';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormGroup } from '@angular/forms';\r\n\r\n\r\n@Component({\r\n  templateUrl: 'home.component.html',\r\n  styleUrls: ['style.css']\r\n})\r\n\r\nexport class HomeComponent implements OnInit {\r\n\r\n  constructor(private bookService: BookService,\r\n    private accountService: AccountService,\r\n    private alertService: AlertService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n    // this.userId = localStorage.getItem('user').id;\r\n    this.userRole = accountService.getRole();\r\n  }\r\n  books: Book[] = [];\r\n  booksData: Book[] = [];\r\n  categories: any;\r\n  vote: number;\r\n  countOfAllCategories: number;\r\n  form: FormGroup;\r\n  id: string;\r\n  orderStatus = '';\r\n  orderCategory = 'All';\r\n  booksCount = 0;\r\n  userId: string;\r\n  userRole: string;\r\n  isAddMode: boolean;\r\n  loading = false;\r\n  submitted = false;\r\n\r\n  condition = false;\r\n\r\n\r\n  ngOnInit() {\r\n    this.userId = JSON.parse(localStorage.getItem('user')).id;\r\n    this.fetchBooks();\r\n\r\n    this.fetchAllCategories();\r\n  }\r\n\r\n  fetchAllCategories() {\r\n    this.bookService.getAllCategories()\r\n      .pipe(first())\r\n      .subscribe(categoriesData => {\r\n        this.categories = categoriesData;\r\n        this.countOfAllCategories = 0;\r\n        for (const category of this.categories) {\r\n          this.countOfAllCategories += category.count;\r\n        }\r\n      });\r\n  }\r\n\r\n  showData(data: string) {\r\n    this.books = [];\r\n    this.condition = false;\r\n    this.bookService.findInGoogleApi(data)\r\n      .subscribe(dataResponse => {\r\n        for (let i = 0; i < dataResponse[\"items\"].length; i++) {\r\n          if (i === 5) { break; }\r\n          const b = dataResponse[\"items\"][i].volumeInfo;\r\n          b.apiId = dataResponse[\"items\"][i].id;\r\n          this.books.push(b);\r\n        }\r\n        this.condition = true;\r\n      });\r\n\r\n  }\r\n\r\n  public saveBook(book: Book) {\r\n    // $('#confirmationRequestModal-' + book.apiId).modal('hide');\r\n    this.clearArray();\r\n    book.userId = Number.parseInt(this.userId);\r\n    book.isManuallyAdded = false;\r\n    this.bookService.save(book)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.fetchBooks();\r\n          this.alertService.success('Book added successfully', { keepAfterRouteChange: false });\r\n        },\r\n        error => {\r\n          this.alertService.error(error.error.errorMessage);\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n  public status(bookId, bookStatus) {\r\n    this.bookService.updateStatus(this.userId, bookId, bookStatus)\r\n      .subscribe(data => {\r\n        this.fetchBooks();\r\n        if (bookStatus === 'REQUESTED') {\r\n          this.alertService.success('Book requested successfully', { keepAfterRouteChange: false });\r\n        }\r\n      },\r\n        error => {\r\n          this.alertService.error(error.error.errorMessage);\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n  filterCategoryValue(category) {\r\n    this.orderCategory = category;\r\n  }\r\n\r\n  filterStatusValue(status) {\r\n    this.orderStatus = status;\r\n  }\r\n\r\n  public upVote(bookId) {\r\n    this.bookService.vote(this.userId, bookId, 1)\r\n      .subscribe(data => {\r\n        this.fetchBooks();\r\n      },\r\n        error => {\r\n          this.alertService.error(error.error.errorMessage);\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n\r\n\r\n  private fetchBooks() {\r\n    this.bookService.getAllFiltered()\r\n      .pipe(first())\r\n      .subscribe(booksD => {\r\n        this.booksData = booksD;\r\n        this.booksCount = 0;\r\n        for (const book of booksD) {\r\n          if (book.status === 'IN_LIBRARY') {\r\n            this.booksCount++;\r\n          }\r\n        }\r\n\r\n        // this.dtTrigger.next();\r\n      });\r\n  }\r\n\r\n  public downVote(bookId) {\r\n    this.bookService.vote(this.userId, bookId, -1)\r\n      .subscribe(data => {\r\n        this.fetchBooks();\r\n      },\r\n        error => {\r\n          this.alertService.error(error.error.errorMessage);\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n  addBookReaction(bookId, reaction) {\r\n    this.bookService.addBookReaction(this.userId, bookId, reaction)\r\n      .subscribe(data => {\r\n        this.fetchBooks();\r\n      },\r\n        error => {\r\n          this.alertService.error(error.error.errorMessage);\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n  clearArray() {\r\n    document.getElementById('myInput')[\"value\"] = '';\r\n    this.condition = false;\r\n  }\r\n\r\n  orderByCategory(categories) {\r\n    for (const category of categories) {\r\n      if (this.orderCategory.toString() === category.toString()) {\r\n        return true;\r\n      }\r\n      else {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div class=\"p-4 main-container\">\r\n  <div class=\"container\">\r\n\r\n    <script>\r\n      object.onsearch = handler;\r\n      function clearButton(handler) {\r\n        books = [];\r\n        condition = false;\r\n        console.log(\"TEST\");\r\n      }\r\n    </script>\r\n    <div style=\"width: 100%\" class=\"input-group container-fluid\">\r\n      <div class=\"input math-form-field\">\r\n        <div (keyup)=\"showData(input.value)\">\r\n          <input id = \"myInput\" type=\"search\" style=\"margin: 0 auto;\" class=\"form-control rounded\" placeholder=\"Submitted a book\"\r\n                 aria-label=\"Search\"\r\n                 aria-describedby=\"search-addon\" #input/>\r\n          <button type=\"button\" (click)=\"clearArray()\"\r\n                  class=\"button-x close\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n          <div *ngIf=\"condition\" class=\"drop-down-search\" style=\"position: absolute\">\r\n            <div *ngFor=\"let book of books\" class=\"container-max-width\" style=\"padding: 10px\">\r\n              <div class=\"card\">\r\n                <div class=\"cardWrapper\">\r\n                  <img class=\"imgSize\" src=\"{{book.imageLinks ? book.imageLinks.thumbnail :\r\n                     'https://fully-booked.ap-south-1.linodeobjects.com/catalog/product/placeholder/default/book-placeholder.png'}}\"\r\n                       alt=\"..\">\r\n\r\n                  <div class=\"infoWrapper\">\r\n                    <div class=\"info\">\r\n                      <div class=\"infoCard\">\r\n                        <p > <span class=\"textColor\"> Title:  </span>{{book.title ? book.title : 'n/a'}}</p>\r\n                        <p> <span class=\"textColor\"> Author: </span>{{book.authors ? book.authors : 'n/a'}}</p>\r\n                        <p> <span class=\"textColor\">Publisher: </span>{{book.publisher ? book.publisher : 'n/a'}}</p>\r\n                      </div>\r\n                      <div >\r\n                        <p> <span class=\"textColor\"> Pages: </span>{{book.pageCount ? book.pageCount : 'n/a'}}</p>\r\n                        <p> <span class=\"textColor\"> Rating: </span>{{book.averageRating ? book.averageRating : 'n/a'}}</p>\r\n                        <p> <span class=\"textColor\"> Language: </span>{{book.language ? book.language : 'n/a'}}</p>\r\n                      </div>\r\n                      <div class=\"button\">\r\n                        <div class=\"button-container\">\r\n                          <button type=\"button\" id=\"{{book.apiId}}\" class=\"btn btn-primary\" data-bs-toggle=\"modal\"\r\n                                  [attr.data-bs-target]=\"'#confirmationRequestModal-'+ book.apiId\">Request</button>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"modal fade\" data-bs-backdrop=\"false\" id=\"confirmationRequestModal-{{book.apiId}}\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"confirmationRequestModalLabel\" aria-hidden=\"true\">\r\n                        <div class=\"modal-dialog\" role=\"document\">\r\n                          <div class=\"modal-content\">\r\n                            <div class=\"modal-header\">\r\n                              <h5 class=\"modal-title\" id=\"confirmationRequestModalLabel\">{{book.title}}</h5>\r\n                              <button type=\"button\" class=\"close\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                              </button>\r\n                            </div>\r\n                            <div class=\"modal-body\">\r\n                              Do you want to add this book?\r\n                            </div>\r\n                            <div class=\"modal-footer\">\r\n                              <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                              <button type=\"button\" class=\"btn btn-primary\" (click)=\"saveBook(book)\">Yes</button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"discriptionInfo\">\r\n                      <p><span class=\"textColor\">Description: </span><span class=\"desctiption-text-hidden\">{{book.description ? book.description : 'n/a'}}</span> </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <i class=\"fas fa-search\"></i>\r\n      <div>\r\n        <label for=\"sort-button-in_library\">\r\n            <span (click)=\"filterStatusValue('IN_LIBRARY')\" class=\"btn btn-primary\" style=\"position: absolute; width: 14%;\">\r\n              Books in library <span class=\"badge bg-secondary\">{{this.booksCount}}</span>\r\n            </span>\r\n        </label>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"d-flex flex-row-reverse\" style=\"padding-top: 5px; padding-bottom: 5px\">\r\n      <div class=\"btn-group\">\r\n        <button (click)=\"this.fetchAllCategories()\" type=\"button\" class=\"btn btn-primary dropdown-toggle\" style=\"border-radius: 1.25em;\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n          Category: <span class=\"badge bg-secondary\">{{this.orderCategory}}</span>\r\n        </button>\r\n        <div class=\"dropdown-menu categories-dropdown\">\r\n          <a (click)=\"filterCategoryValue('All')\" class=\"dropdown-item\">All\r\n            <span class=\"badge bg-secondary\">{{this.countOfAllCategories}}</span></a>\r\n          <span *ngFor= \"let category of this.categories\">\r\n          <a (click)=\"filterCategoryValue(category.category.toString())\" class=\"dropdown-item\">{{category.category.toString()}}\r\n            <span class=\"badge bg-secondary\">{{category.count}}</span></a>\r\n        </span>\r\n          <!--        <div class=\"dropdown-divider\"></div>-->\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class = \"sort-container\">\r\n      <input class=\"d-none\" type=\"radio\" name=\"flexRadioDefault\" id=\"sort-button-all\" checked>\r\n      <label (click)=\"filterStatusValue('')\" class=\"checkbox-order\" for=\"sort-button-all\">\r\n        <span class=\"badge rounded-pill bg-light text-dark\">ALL</span>\r\n      </label>\r\n      <input class=\"d-none\" type=\"radio\" name=\"flexRadioDefault\" id=\"sort-button-submitted\">\r\n      <label (click)=\"filterStatusValue('SUBMITTED')\" class=\"checkbox-order\" for=\"sort-button-submitted\">\r\n        <span class=\"badge rounded-pill bg-light text-dark\">SUBMITTED</span>\r\n      </label>\r\n      <input class=\"d-none\" type=\"radio\" name=\"flexRadioDefault\" id=\"sort-button-approved\">\r\n      <label (click)=\"filterStatusValue('APPROVED')\" class=\"checkbox-order\" for=\"sort-button-approved\">\r\n        <span class=\"badge rounded-pill bg-light text-dark\">APPROVED</span>\r\n      </label>\r\n      <input class=\"d-none\" type=\"radio\" name=\"flexRadioDefault\" id=\"sort-button-ordered\">\r\n      <label (click)=\"filterStatusValue('ORDERED')\" class=\"checkbox-order\" for=\"sort-button-ordered\">\r\n        <span class=\"badge rounded-pill bg-secondary bg-light text-dark\">ORDERED</span>\r\n      </label>\r\n      <input class=\"d-none\" type=\"radio\" name=\"flexRadioDefault\" id=\"sort-button-in_library\">\r\n      <label (click)=\"filterStatusValue('IN_LIBRARY')\" class=\"checkbox-order\" for=\"sort-button-in_library\">\r\n        <span class=\"badge rounded-pill bg-secondary bg-light text-dark\">IN_LIBRARY</span>\r\n      </label>\r\n      <input class=\"d-none\" type=\"radio\" name=\"flexRadioDefault\" id=\"sort-button=requested\">\r\n      <label (click)=\"filterStatusValue('REQUESTED')\" class=\"checkbox-order\" for=\"sort-button=requested\">\r\n        <span class=\"badge rounded-pill bg-light text-dark\">REQUESTED</span>\r\n      </label>\r\n      <input class=\"d-none\" type=\"radio\" name=\"flexRadioDefault\" id=\"sort-button-in_use\">\r\n      <label (click)=\"filterStatusValue('IN_USE')\" class=\"checkbox-order\" for=\"sort-button-in_use\">\r\n        <span class=\"badge rounded-pill bg-light text-dark\">IN_USE</span>\r\n      </label>\r\n      <input class=\"d-none\" type=\"radio\" name=\"flexRadioDefault\" id=\"sort-button-returned\">\r\n      <label (click)=\"filterStatusValue('RETURNED')\" class=\"checkbox-order\" for=\"sort-button-returned\">\r\n        <span class=\"badge rounded-pill bg-light text-dark\">RETURNED</span>\r\n      </label>\r\n    </div>\r\n\r\n    <div *ngFor=\"let book of booksData\">\r\n      <div [ngClass]=\"{'d-none': (book.status !== this.orderStatus && !this.orderByCategory(book.categories)),\r\n      'd-block' : (this.orderStatus === '')}\"\r\n           class=\"container-max-width\" style=\"padding: 10px\">\r\n        <div *ngIf=\"(this.orderByCategory(book.categories) || this.orderCategory === 'All') &&\r\n         (book.status === this.orderStatus || this.orderStatus === '')\" class=\"card\">\r\n          <div class=\"cardWrapper\">\r\n            <div class=\"container-button-vote\">\r\n              <button (click)=\"upVote(book.id);\" ng-disabled=\"buttonClicked\" class=\"btn btn-success btn-vote\" type=\"button\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50px\" height=\"50px\" fill=\"currentColor\" class=\"bi bi-arrow-up\" viewBox=\"0 0 16 16\">\r\n                  <path fill-rule=\"evenodd\" d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"/>\r\n                </svg>\r\n              </button>\r\n              <span class = \"vote-info\">\r\n                    {{book.vote}}\r\n                  </span>\r\n              <button type=\"button\" class=\"btn btn-danger btn-vote\" (click)=\"downVote(book.id)\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"50px\" height=\"50px\" fill=\"currentColor\" class=\"bi bi-arrow-down\" viewBox=\"0 0 16 16\">\r\n                  <path fill-rule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <a routerLink=\"/books/{{book.id}}\">\r\n              <img class=\"imgSize\" width=\"200px\" height=\"200px\" src=\"{{book.imageLinks.thumbnail ? book.imageLinks.thumbnail : 'https://fully-booked.ap-south-1.linodeobjects.com/catalog/product/placeholder/default/book-placeholder.png'}}\"\r\n                 alt=\"..\">\r\n            </a>\r\n            <div class=\"infoWrapper\">\r\n              <div class=\"info\">\r\n                <div class=\"infoCard\">\r\n                    <p > <span class=\"textColor\"> Title:  </span>\r\n                      <a routerLink=\"/books/{{book.id}}\">{{book.title ? book.title : 'n/a'}}</a>\r\n                    </p>\r\n                  <p> <span class=\"textColor\"> Author: </span>{{book.authors ? book.authors : 'n/a'}}</p>\r\n<!--                  <p> <span class=\"textColor\"> Publisher: </span>{{book.publisher ? book.publisher : 'n/a'}}</p>-->\r\n                  <p> <span class=\"textColor\"> Categories: </span><span>{{book.categories ? book.categories : 'n/a'}}</span></p>\r\n                </div>\r\n                <div >\r\n                  <p> <span class=\"textColor\"> Pages: </span>{{book.pageCount ? book.pageCount : 'n/a'}}</p>\r\n                  <p> <span class=\"textColor\"> Rating: </span>{{book.averageRating ? book.averageRating : 'n/a'}}</p>\r\n                  <p> <span class=\"textColor\"> Language: </span>{{book.language ? book.language : 'n/a'}}</p>\r\n                </div>\r\n                <div style=\"display: grid; margin-left: auto\">\r\n                  <span *ngIf=\"this.userRole === 'USER'\" class=\"badge rounded-pill bg-warning text-dark status-info\">{{book.status}}</span>\r\n                  <button *ngIf=\"book.status === 'IN_LIBRARY' && this.userRole === 'USER'\"\r\n                          (click)=\"status(book.id, 'REQUESTED')\"\r\n                          type=\"button\" style=\"margin-top: auto\"\r\n                          class=\"btn btn-success\">Take a book</button>\r\n                  <div *ngIf=\"this.userRole === 'ADMIN'\">\r\n                    <div class=\"dropdown\" style=\"width: 100%;\">\r\n                      <button style=\"width: 100%; border-radius: 1.25em;\" class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                        {{book.status}}\r\n                      </button>\r\n                      <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n                        <button *ngIf=\"book.status === 'SUBMITTED'\" (click)=\"status(book.id, 'REJECTED')\" class=\"dropdown-item\">REJECTED</button>\r\n                        <button *ngIf=\"book.status === 'SUBMITTED'\" (click)=\"status(book.id, 'APPROVED')\" class=\"dropdown-item\">APPROVED</button>\r\n                        <button *ngIf=\"book.status === 'APPROVED'\" (click)=\"status(book.id, 'ORDERED')\" class=\"dropdown-item\">ORDERED</button>\r\n                        <button *ngIf=\"book.status === 'ORDERED' || book.status === 'RETURNED' || book.status === 'IN_USE'\" (click)=\"status(book.id, 'IN_LIBRARY')\" class=\"dropdown-item\">IN_LIBRARY</button>\r\n                        <button *ngIf=\"book.status === 'IN_LIBRARY'\" (click)=\"status(book.id, 'REQUESTED')\" class=\"dropdown-item\">REQUESTED</button>\r\n                        <button *ngIf=\"book.status === 'IN_LIBRARY'\" (click)=\"status(book.id, 'IN_USE')\" class=\"dropdown-item\">IN_USE</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <p><span class=\"textColor\">Description: </span><span class=\"desctiption-text-hidden\">{{book.description ? book.description : 'n/a'}}</span> </p>\r\n              </div>\r\n              <div class=\"reaction-container\">\r\n                <div class=\"reaction-field\">\r\n                  <button (click)=\"addBookReaction(book.id, 'HEART')\" class=\"badge rounded-pill bg-light text-dark\">\r\n                    <span> {{book.reactions.HEART}}\r\n                    </span>\r\n                  </button>\r\n                  <button (click)=\"addBookReaction(book.id, 'LAUGH')\" class=\"badge rounded-pill bg-light text-dark\">\r\n                    <span> {{book.reactions.LAUGH}}\r\n                    </span>\r\n                  </button >\r\n                  <button (click)=\"addBookReaction(book.id, 'SAD')\" class=\"badge rounded-pill bg-light text-dark\">\r\n                    <span> {{book.reactions.SAD}}\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n<style>\r\n\r\n  h1 {\r\n    position: static;\r\n    top: 10%;\r\n    left: 10%;\r\n\r\n    font-size: 60px;\r\n    font-family: 'Segoe UI', Tahoma, Verdana, sans-serif;\r\n    background: linear-gradient(\r\n      to right, #f32170, #ff6b08,\r\n      #cf23cf, #eedd44);\r\n    -webkit-text-fill-color: transparent;\r\n    -webkit-background-clip: text;\r\n  }\r\n</style>\r\n","export * from './home.component';\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Book } from '@app/_models/book';\r\nimport { Subject } from 'rxjs';\r\nimport { BookService } from '@app/_services/book.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { first, map } from 'rxjs/operators';\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { AccountService, AlertService } from \"@app/_services\";\r\n\r\n@Component({\r\n  selector: 'app-inside-book',\r\n  templateUrl: './inside-book.component.html',\r\n  styleUrls: ['./inside-book.component.less']\r\n})\r\nexport class InsideBookComponent implements OnInit {\r\n  bookId: string = null;\r\n  userId: number;\r\n  filterName: string;\r\n  book: Book = null;\r\n  bookActionResponse: any;\r\n  loading = false;\r\n  formComments: FormGroup;\r\n  submitted = false;\r\n  returnUrl: string;\r\n\r\n  dtTrigger: Subject<any> = new Subject<any>();\r\n\r\n  constructor(private bookService: BookService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private formBuilder: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private accountService: AccountService,\r\n    private alertService: AlertService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.formComments = this.formBuilder.group({\r\n      comment: ['', Validators.required]\r\n    });\r\n\r\n    this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\r\n    this.userId = JSON.parse(localStorage.getItem('user')).id;\r\n\r\n    this.bookId = this.activatedRoute.snapshot.params['id'];\r\n    this.fetchBook();\r\n\r\n  }\r\n\r\n  fetchBook() {\r\n    this.bookService.getById(this.bookId).pipe(\r\n      map((book: Book) => this.book = book, this.loading = false))\r\n      .subscribe();\r\n  }\r\n\r\n  get f() { return this.formComments.controls; }\r\n\r\n  onSubmit() {\r\n\r\n    this.submitted = true;\r\n\r\n    // reset alerts on submit\r\n    this.alertService.clear();\r\n\r\n    if (this.formComments.invalid) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.bookService.comment(this.f.comment.value, this.userId, this.book.id)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.bookService.getById(this.bookId).pipe(\r\n            map((book: Book) => this.book = book, this.loading = false)\r\n          ).subscribe();\r\n          this.submitted = false;\r\n        },\r\n        error => {\r\n          this.alertService.error(error.error.errorMessage);\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n  getStatusInfo(bookId, status) {\r\n    this.bookService.getStatusInfo(status, bookId)\r\n      .subscribe(\r\n        data => {\r\n          this.bookActionResponse = data;\r\n        }\r\n      );\r\n  }\r\n\r\n  addCommentReaction(commentId, reaction) {\r\n    this.bookService.addCommentReaction(this.userId, commentId, reaction)\r\n      .subscribe(data => {\r\n        this.fetchBook();\r\n      },\r\n        error => {\r\n          this.alertService.error(error.error.errorMessage);\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n\r\n}\r\n","<div *ngIf=\"book\" class=\"main-div\">\r\n  <div class=\"card\">\r\n    <div class=\"d-flex\">\r\n      <h2 class=\"title\">{{book.title}}</h2>\r\n      <span class=\"badge rounded-pill bg-warning text-dark vote-badge\">\r\n      Votes <span class=\"badge bg-secondary\">{{book.vote}}</span>\r\n    </span>\r\n    </div><div class=\"first-card-info\">\r\n      <div class=\"img-container\">\r\n        <img src=\"{{book.imageLinks.thumbnail ? book.imageLinks.thumbnail :\r\n        'https://fully-booked.ap-south-1.linodeobjects.com/catalog/product/placeholder/default/book-placeholder.png'}}\"\r\n             alt=\"Image of book\" class=\"img-of-book\">\r\n      </div>\r\n      <div class=\"first-info-container\">\r\n        <div class=\"info-about-book\">\r\n          <strong>Authors</strong>\r\n          <p class=\"info-book\">{{book.authors}}</p>\r\n        </div>\r\n        <div class=\"info-about-book\">\r\n          <strong>Published date</strong>\r\n          <p class=\"info-book\">{{book.publishedDate}}</p>\r\n        </div>\r\n<!--        <div class=\"info-about-book\">-->\r\n<!--          <strong>Industry Identifiers</strong>-->\r\n<!--          <p class=\"info-book\">{{book.industryIdentifiers}}</p>-->\r\n<!--        </div>-->\r\n        <div class=\"info-about-book\">\r\n          <strong>Categories</strong>\r\n          <p class=\"info-book\">{{book.categories}}</p>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div class=\"info-about-book\">\r\n          <strong>Pages</strong>\r\n          <p class=\"info-book\">{{book.pageCount}}</p>\r\n        </div>\r\n        <div class=\"info-about-book\">\r\n          <strong>Average Rating</strong>\r\n          <p class=\"info-book\">{{book.averageRating}}</p>\r\n        </div>\r\n        <div class=\"info-about-book\">\r\n          <strong>Language</strong>\r\n          <p class=\"info-book\">{{book.language}}</p>\r\n        </div>\r\n        <div class=\"info-about-book\">\r\n          <strong>IndustryIdentifiers</strong>\r\n          <p class=\"info-book\">Identifier: {{book.industryIdentifiers[0].identifier}},\r\n        Type: {{book.industryIdentifiers[0].type}}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div style=\"width: 20%\">\r\n        <div class=\"info-about-book\">\r\n          <strong>Description:</strong>\r\n          <p style=\"max-height: 208px; overflow: auto\">{{book.description}}</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"status-bar\">\r\n\r\n    </div>\r\n  </div>\r\n\r\n\r\n    <!--      active, editable, done-->\r\n    <div class=\"md-stepper-horizontal orange\">\r\n      <div (click)=\"this.bookActionResponse = null;getStatusInfo(book.id, 'SUBMITTED')\" [ngClass]=\"{'active' : book.status === 'SUBMITTED' }\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" class=\"md-step\">\r\n        <div class=\"md-step-circle\"></div>\r\n        <div class=\"md-step-title\">SUBMITTED</div>\r\n        <div class=\"md-step-bar-left\"></div>\r\n        <div class=\"md-step-bar-right\"></div>\r\n      </div>\r\n      <div (click)=\"this.bookActionResponse = null; getStatusInfo(book.id, 'APPROVED')\" [ngClass]=\"{'active' : book.status === 'APPROVED' }\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" class=\"md-step\">\r\n        <div class=\"md-step-circle\"></div>\r\n        <div class=\"md-step-title\">APPROVED</div>\r\n        <div class=\"md-step-optional\">Optional</div>\r\n        <div class=\"md-step-bar-left\"></div>\r\n        <div class=\"md-step-bar-right\"></div>\r\n      </div>\r\n      <div (click)=\"this.bookActionResponse = null;getStatusInfo(book.id, 'ORDERED')\" [ngClass]=\"{'active' : book.status === 'ORDERED' }\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" class=\"md-step\">\r\n        <div class=\"md-step-circle\"></div>\r\n        <div class=\"md-step-title\">ORDERED</div>\r\n        <div class=\"md-step-bar-left\"></div>\r\n        <div class=\"md-step-bar-right\"></div>\r\n      </div>\r\n      <div (click)=\"this.bookActionResponse = null;getStatusInfo(book.id, 'IN_LIBRARY')\" [ngClass]=\"{'active' : book.status === 'IN_LIBRARY' }\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" class=\"md-step\">\r\n        <div class=\"md-step-circle\"></div>\r\n        <div class=\"md-step-title\">IN_LIBRARY</div>\r\n        <div class=\"md-step-bar-left\"></div>\r\n        <div class=\"md-step-bar-right\"></div>\r\n      </div>\r\n      <div (click)=\"this.bookActionResponse = null;getStatusInfo(book.id, 'IN_USE')\" [ngClass]=\"{'active' : book.status === 'IN_USE'}\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\" class=\"md-step\">\r\n        <div class=\"md-step-circle\"></div>\r\n        <div class=\"md-step-title\">IN_USE</div>\r\n        <div class=\"md-step-bar-left\"></div>\r\n        <div class=\"md-step-bar-right\"></div>\r\n      </div>\r\n\r\n      <div class=\"modal fade\" id=\"exampleModalCenter\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">{{this.bookActionResponse ? this.bookActionResponse.status : 'n/a'}}</h5>\r\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div *ngIf=\"this.bookActionResponse != null\" class=\"modal-body\">\r\n              <p><strong>By: </strong>{{this.bookActionResponse.firstName}} {{this.bookActionResponse.lastName}}</p>\r\n              <p><strong>Date: </strong>{{this.bookActionResponse.date}}</p>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n  <div class = \"card comments-container\">\r\n    <div class=\"form-group textarea-container\" style=\"width: 50%;\">\r\n      <form [formGroup]=\"formComments\" (ngSubmit)=\"onSubmit(); this.formComments.reset();\">\r\n        <div class=\"form-group\">\r\n          <label for=\"comment\">Write a comment:</label>\r\n          <input type=\"text\" formControlName=\"comment\" name=\"comment\" class=\"form-control\"\r\n                 [ngClass]=\"{ 'is-invalid': submitted && f.comment.errors }\" />\r\n          <div *ngIf=\"submitted && f.comment.errors\" class=\"invalid-feedback\">\r\n            <div *ngIf=\"f.comment.errors.required\">Comment is required</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <button [disabled]=\"loading\" class=\"btn btn-primary\">\r\n            <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm mr-1\"></span>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n    <ul class=\"comments-list\">\r\n      <li *ngFor=\"let comment of book.comments\" class=\"comments-item\">\r\n        <span style=\"display: flex;\">\r\n          <strong class=\"comment-name\">{{comment.userDto.firstName}}  {{comment.userDto.lastName}}</strong>\r\n          <i style=\"margin-left: auto\">{{comment.date}}</i>\r\n        </span>\r\n        <div class=\"container comment-text\" style=\"padding: 10px\">{{comment.comment}}</div>\r\n        <div class=\"reaction-container\">\r\n          <div class=\"reaction-field\">\r\n            <button (click)=\"addCommentReaction(comment.id, 'HEART')\" class=\"badge rounded-pill bg-light text-dark\">\r\n                    <span> {{comment.reactions.HEART}}\r\n                    </span>\r\n            </button>\r\n            <button (click)=\"addCommentReaction(comment.id, 'LAUGH')\" class=\"badge rounded-pill bg-light text-dark\">\r\n                    <span> {{comment.reactions.LAUGH}}\r\n                    </span>\r\n            </button >\r\n            <button (click)=\"addCommentReaction(comment.id, 'SAD')\" class=\"badge rounded-pill bg-light text-dark\">\r\n                    <span> {{comment.reactions.SAD}}\r\n                    </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgForm } from '@angular/forms';\r\nimport { first } from 'rxjs/operators';\r\nimport { User } from '@app/_models/user';\r\n\r\nimport { AccountService, AlertService } from '@app/_services';\r\n\r\n@Component({\r\n  templateUrl: 'edit-profile.component.html',\r\n  styleUrls: ['edit-profile.component.less']})\r\n\r\nexport class EditProfileComponent implements OnInit {\r\n  form: FormGroup;\r\n  id: string;\r\n  isAddMode: boolean;\r\n  loading = false;\r\n  submitted = false;\r\n  userId: number;\r\n  userRole: string;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private accountService: AccountService,\r\n    private alertService: AlertService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.userRole = this.route.snapshot.params['role'];\r\n    this.id = this.route.snapshot.params['id'];\r\n    this.isAddMode = !this.id;\r\n    this.userId = this.accountService.userId;\r\n\r\n    this.form = this.formBuilder.group({\r\n      firstName: ['', Validators.required],\r\n      lastName: ['', Validators.required],\r\n      email: ['', Validators.email],\r\n      age: ['', Validators.required],\r\n      phone: ['', Validators.required],\r\n      role: ['', Validators.required],\r\n    });\r\n\r\n    if (!this.isAddMode) {\r\n      this.accountService.getById(this.id)\r\n        .pipe(first())\r\n        .subscribe(x => {\r\n          this.f.firstName.setValue(x.firstName);\r\n          this.f.lastName.setValue(x.lastName);\r\n          this.f.age.setValue(x.age);\r\n          this.f.phone.setValue(x.phone);\r\n          this.f.email.setValue(x.email);\r\n          this.f.role.setValue(x.role);\r\n        });\r\n    }\r\n  }\r\n\r\n  // convenience getter for easy access to form fields\r\n  get f() { return this.form.controls; }\r\n\r\n  onSubmit() {\r\n    this.submitted = true;\r\n    // reset alerts on submit\r\n    this.alertService.clear();\r\n    // stop here if form is invalid\r\n    if (this.form.invalid) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n\r\n    this.updateUser();\r\n  }\r\n\r\n  private updateUser() {\r\n    this.accountService.editUserFromProfile(this.id, this.form.value)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.alertService.success('Update successful', { keepAfterRouteChange: true });\r\n          this.router.navigate(['../../../profile/' + this.id, { relativeTo: this.id }]);\r\n        },\r\n        error => {\r\n          this.alertService.error(error.error.errorMessage);\r\n          this.loading = false;\r\n        });\r\n  }\r\n}\r\n","<div style=\"padding: 20px 20%;\">\r\n  <h1 *ngIf=\"!isAddMode\">Edit User</h1>\r\n  <form  [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\r\n    <div class=\"form-row\">\r\n      <div class=\"form-group col\">\r\n        <label for=\"firstName\">First Name</label>\r\n        <input type=\"text\" required formControlName=\"firstName\" class=\"form-control\"\r\n               [ngClass]=\"{ 'is-invalid': submitted && f.firstName.errors }\" />\r\n        <div *ngIf=\"submitted && f.firstName.errors\" class=\"invalid-feedback\">\r\n          <div *ngIf=\"f.firstName.errors.required\">First Name is required</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col\">\r\n        <label for=\"lastName\">Last Name</label>\r\n        <input type=\"text\" formControlName=\"lastName\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.lastName.errors }\" />\r\n        <div *ngIf=\"submitted && f.lastName.errors\" class=\"invalid-feedback\">\r\n          <div *ngIf=\"f.lastName.errors.required\">Last Name is required</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-row\">\r\n      <div class=\"form-group col\">\r\n        <label for=\"age\">Age</label>\r\n        <input type=\"text\" formControlName=\"age\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.age.errors }\" />\r\n        <div *ngIf=\"submitted && f.age.errors\" class=\"invalid-feedback\">\r\n          <div *ngIf=\"f.age.errors.required\">Age is required</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group col\">\r\n        <label for=\"phone\">Phone</label>\r\n        <input type=\"text\" formControlName=\"phone\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.phone.errors }\" />\r\n        <div *ngIf=\"submitted && f.phone.errors\" class=\"invalid-feedback\">\r\n          <div *ngIf=\"f.lastName.errors.required\">Phone is required</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-row\">\r\n      <div class=\"form-group col\">\r\n        <label for=\"email\">Email</label>\r\n        <input type=\"text\" formControlName=\"email\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.email.errors }\" />\r\n        <div *ngIf=\"submitted && f.email.errors\" class=\"invalid-feedback\">\r\n          <div *ngIf=\"f.email.errors.required\">email is required</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"form-group\">\r\n      <button [disabled]=\"loading\" class=\"btn btn-primary\">\r\n        <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm mr-1\"></span>\r\n        Save\r\n      </button>\r\n      <a routerLink=\"/profile/{{id}}\" class=\"btn btn-link\">Cancel</a>\r\n    </div>\r\n  </form>\r\n\r\n</div>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { User } from '@app/_models';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AccountService, AlertService } from '@app/_services';\r\nimport { first, map } from 'rxjs/operators';\r\nimport { BookService } from '@app/_services/book.service';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.less']\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  dtOptionsAdmin: DataTables.Settings = {};\r\n  dtOptionsUser: DataTables.Settings = {};\r\n  dtTriggerAdmin: Subject<any> = new Subject<any>();\r\n  dtTriggerUser: Subject<any> = new Subject<any>();\r\n  userId: string = null;\r\n  user: User = null;\r\n  bookAction: any;\r\n  isAddMode: boolean;\r\n  loading = false;\r\n  submitted = false;\r\n  bookActionRequested: any;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private userService: AccountService,\r\n    private bookService: BookService,\r\n    private alertService: AlertService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.dtOptionsAdmin = {\r\n      pagingType: 'full_numbers',\r\n      pageLength: 20\r\n    };\r\n    this.dtOptionsUser = {\r\n      pagingType: 'full_numbers',\r\n      pageLength: 20\r\n    };\r\n    this.userId = this.activatedRoute.snapshot.params.id;\r\n    this.userService.getById(this.userId).pipe(\r\n      map((user: User) => this.user = user)\r\n    ).subscribe();\r\n\r\n    this.fetchBookActionByStatusSubmitted();\r\n    this.fetchBookActionByStatusRequested();\r\n  }\r\n\r\n  public status(userId, bookId, bookStatus) {\r\n    this.bookService.updateStatus(userId, bookId, bookStatus)\r\n      .pipe(first())\r\n      .subscribe(data => {\r\n        this.fetchBookActionByStatusRequested();\r\n        if (bookStatus === 'REQUESTED') {\r\n          this.alertService.success('Book requested successfully', { keepAfterRouteChange: false });\r\n        }\r\n\r\n      },\r\n        error => {\r\n          this.alertService.error(error.error.errorMessage);\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n  fetchBookActionByStatusSubmitted() {\r\n    this.bookService.getBookActionByStatus('SUBMITTED').subscribe(\r\n      dataResponse => {\r\n        this.bookAction = dataResponse;\r\n        this.dtTriggerAdmin.next();\r\n      }\r\n    );\r\n  }\r\n\r\n  fetchBookActionByStatusRequested() {\r\n    this.bookService.getBookActionByStatus('REQUESTED').subscribe(\r\n      dataResponse => {\r\n        this.bookActionRequested = dataResponse;\r\n        this.dtTriggerUser.next();\r\n      }\r\n    );\r\n  }\r\n\r\n  filterItemsOfType(userId) {\r\n    return this.bookAction.filter(x => x.user.id === userId);\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"profile-container\">\r\n    <div class=\"d-flex mb-5\">\r\n      <img width=\"350px\" height=\"auto\" style=\"margin: 0 auto;\"\r\n        src=\"https://devtalk.blender.org/uploads/default/original/2X/c/cbd0b1a6345a44b58dda0f6a355eb39ce4e8a56a.png\"\r\n        alt=\"Profile image\">\r\n    </div>\r\n    <div class=\"profile-info\">\r\n      <span>\r\n        <p class=\"\"><strong>First name: </strong> {{user.firstName}}</p>\r\n        <p class=\"\"><strong>Last name: </strong> {{user.lastName}}</p>\r\n      </span>\r\n      <span>\r\n        <p class=\"\"><strong>Age: </strong> {{user.age}}</p>\r\n        <p class=\"\"><strong>Phone: </strong> {{user.phone}}</p>\r\n      </span>\r\n      <span>\r\n        <p class=\"\"><strong>Email: </strong> {{user.email}}</p>\r\n        <p class=\"\"><strong>Role: </strong> {{user.role}}</p>\r\n      </span>\r\n    </div>\r\n    <div class=\"profile-button\">\r\n      <a class=\"btn btn-info\" href=\"auth/password/{{user.id}}\">Change password</a>\r\n      <a class=\"btn btn-primary\" href=\"profile/edit/{{user.id}}\" style=\"margin-right: 15px;\"\r\n        routerLinkActive=\"active\">Edit profile</a>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"user.role === 'ADMIN'\" style=\"margin-top: 20px;\" class=\"dashboard-container\">\r\n    <h4>List of requested books</h4>\r\n    <table datatable [dtOptions]=\"dtOptionsAdmin\" [dtTrigger]=\"dtTriggerAdmin\" class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Full name</th>\r\n          <th scope=\"col\">Book title</th>\r\n          <th scope=\"col\">Date</th>\r\n          <th scope=\"col\">Button</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr id=\"test\" *ngFor=\"let request of bookActionRequested\">\r\n          <td>{{request.user.firstName}} {{request.user.firstName}}</td>\r\n          <td><a href=\"#\">{{request.book.title}}</a></td>\r\n          <td>{{request.actionDate}}</td>\r\n          <td><button (click)=\"this.status(request.user.id, request.book.id, 'IN_USE');\" type=\"button\"\r\n              class=\"btn btn-dark\">Allow</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div *ngIf=\"user.role === 'USER'\" style=\"margin-top: 20px;\" class=\"dashboard-container\">\r\n    <h4>List of books submitted by me</h4>\r\n    <table datatable [dtOptions]=\"dtOptionsUser\" [dtTrigger]=\"dtTriggerUser\" class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Title</th>\r\n          <th scope=\"col\">Authors</th>\r\n          <th scope=\"col\">Categories</th>\r\n          <th scope=\"col\">Votes</th>\r\n          <th scope=\"col\">Status</th>\r\n          <th scope=\"col\">Date</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let data of filterItemsOfType(this.user.id)\">\r\n          <td><a href=\"book/{{data.book.id}}\">{{data.book.title}}</a></td>\r\n          <td>{{data.book.authors}}</td>\r\n          <td>{{data.book.categories}}</td>\r\n          <td>{{data.book.votes ? data.book.votes : '0'}}</td>\r\n          <td>{{data.book.status}}</td>\r\n          <td>{{data.actionDate}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, RouterModule, ActivatedRoute } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { first } from 'rxjs/operators';\r\nimport { AccountService, AlertService } from '@app/_services';\r\n\r\n@Component({ templateUrl: './change-password.component.html' })\r\nexport class ChangePasswordComponent implements OnInit {\r\n  form: FormGroup;\r\n  id: string;\r\n  isAddMode: boolean;\r\n  loading = false;\r\n  submitted = false;\r\n  returnUrl: string;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private accountService: AccountService,\r\n    private alertService: AlertService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.id = this.route.snapshot.params['id'];\r\n    // this.isAddMode = !this.id;\r\n\r\n    this.form = this.formBuilder.group({\r\n      newPassword: ['', Validators.required],\r\n      confirmPassword: ['', Validators.required]\r\n    }, {validator: this.newMatchesConfirm('newPassword', 'confirmPassword') });\r\n\r\n    // get return url from route parameters or default to '/'\r\n    this.returnUrl = this.route.snapshot.queryParams.returnUrl || '/';\r\n  }\r\n\r\n  get f() { return this.form.controls; }\r\n\r\n  onSubmit(){\r\n    this.submitted = true;\r\n\r\n    // reset alerts on submit\r\n    this.alertService.clear();\r\n\r\n    // stop here if form is invalid\r\n    if (this.form.invalid) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.updatePassword();\r\n  }\r\n\r\n  private updatePassword(){\r\n    this.accountService.updatePass(this.id, this.f.newPassword.value)\r\n      .pipe(first())\r\n      .subscribe(\r\n        data => {\r\n          this.alertService.success('Update successful', { keepAfterRouteChange: true });\r\n          this.router.navigate(['../../../profile/' + this.id, { relativeTo: this.id }]);\r\n        },\r\n        error => {\r\n          this.alertService.error(error.error(error));\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n  newMatchesConfirm(newPassword: string, confirmPassword: string){\r\n    return (group: FormGroup) => {\r\n      const passwordInput = group.controls[newPassword];\r\n      const passwordConfirmationInput = group.controls[confirmPassword];\r\n      if (passwordInput.value !== passwordConfirmationInput.value) {\r\n        return passwordConfirmationInput.setErrors({notEquivalent: true});\r\n      }\r\n      else {\r\n        return passwordConfirmationInput.setErrors(null);\r\n      }\r\n    };\r\n  }\r\n}\r\n","<div class=\"card\">\r\n  <h4 class=\"card-header\">Change Password</h4>\r\n  <div class=\"card-body\">\r\n    <div class=\"form-container-change-password\">\r\n      <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\r\n        <div class=\"form-group\">\r\n          <label for=\"newPassword\">New Password</label>\r\n          <input type=\"password\" formControlName=\"newPassword\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.newPassword.errors }\" />\r\n          <div *ngIf=\"submitted && f.newPassword.errors\" class=\"invalid-feedback\">\r\n            <div *ngIf=\"f.newPassword.errors.required\">Introduce new password</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"confirmPassword\">Confirm New Password</label>\r\n          <input type=\"password\" formControlName=\"confirmPassword\" class=\"form-control\" [ngClass]=\"{ 'is-invalid': submitted && f.confirmPassword.errors }\" />\r\n          <div *ngIf=\"submitted && f.confirmPassword.errors\" class=\"invalid-feedback\">\r\n            <div *ngIf=\"f.confirmPassword.errors.required\">Confirm your new password</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <button [disabled]=\"loading\" class=\"btn btn-primary\">\r\n            <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm mr-1\"></span>\r\n            Change\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<style>\r\n  .card-body {\r\n    display: flex;\r\n  }\r\n\r\n  .card-header {\r\n    text-align: center;\r\n  }\r\n\r\n  .form-container-change-password {\r\n    width: 25%;\r\n    margin: 0 auto;\r\n  }\r\n</style>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n    production: false,\r\n    apiUrl: 'http://localhost:8080'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n    enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n    .catch(err => console.error(err));\r\n"]}